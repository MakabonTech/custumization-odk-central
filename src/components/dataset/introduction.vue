<!--
Copyright 2022 ODK Central Developers
See the NOTICE file at the top-level directory of this distribution and at
https://github.com/getodk/central-frontend/blob/master/NOTICE.

This file is part of ODK Central. It is subject to the license terms in
the LICENSE file found in the top-level directory of this distribution and at
https://www.apache.org/licenses/LICENSE-2.0. No part of ODK Central,
including this file, may be copied, modified, propagated, or distributed
except according to the terms contained in the LICENSE file.
-->
<template>
  <div id="dataset-introduction" class="panel-dialog">
    <div class="panel-heading">
      <span class="panel-title h1">{{ $t('title') }}</span>
    </div>
    <div class="panel-body row">
      <div class="col-md-3">
        <p>{{ $t('body[0]') }}</p>
        <i18n-t tag="p" keypath="body[1]">
          <template #icon1><span class="step-number">(1)</span></template>
        </i18n-t>
        <i18n-t tag="p" keypath="body[2]">
          <template #icon2><span class="step-number">(2)</span></template>
          <template #icon3><span class="step-number">(3)</span></template>
        </i18n-t>
        <i18n-t tag="p" keypath="body[3]">
          <template #icon4><span class="step-number">(4)</span></template>
        </i18n-t>
        <p>
          <span>{{ $t('body[4]') }}</span>
          <sentence-separator/>
          <i18n-t keypath="getStarted.full">
            <template #clickHere>
              <doc-link to="central-datasets/">{{ $t('getStarted.clickHere') }}</doc-link>
            </template>
          </i18n-t>
        </p>
      </div>
      <div class="col-md-9 image-wrapper">
        <img src="../../../public/images/entities-intro.svg" :alt="$t('datasetsWorkflow')">
      </div>
    </div>
  </div>
</template>

<script>
import DocLink from '../doc-link.vue';
import SentenceSeparator from '../sentence-separator.vue';

export default {
  name: 'DatasetIntroduction',
  components: { DocLink, SentenceSeparator }
};
</script>

<style lang="scss">
@import '../../assets/scss/_variables.scss';

#dataset-introduction {
  &.panel-dialog {
    width: 100%;
    max-width: 770px;
    margin-bottom: 20px;

    .panel-title {
      font-size: 30px;
    }
  }

  .step-number {
    font-style: italic;
  }

  .image-wrapper img {
    width: 100%;
    max-width: 720px;
  }
}

@media (min-width: $screen-md-min) {
  #dataset-introduction {
    &.panel-dialog {
      max-width: 1045px;
    }

    .row {
      display: flex;
    }

    .image-wrapper {
      display: flex;
    }
  }
}
</style>

<i18n lang="json5">
{
  "en": {
    "title": "Welcome to the Datasets preview!",
    "body": [
      "Datasets are a new way to create and manage data attachments in ODK. They allow you to use data gathered in Submissions to be downloaded and used as part of another Form.",
      // {icon1} is an icon that displays the number 1. It refers to the first step in an image that depicts this workflow.
      "Datasets can be attached {icon1} to Forms and their data queried just like any other attached CSV data file.",
      // {icon2} and {icon3} are icons that display the numbers 2 and 3. They refer to the second and third steps in an image that depicts this workflow.
      "When a Submission related to a Dataset is approved {icon2}, the selected data is added {icon3} to the Dataset, so that the next time a client downloads the Form, the new data will be included in the data download.",
      // {icon4} is an icon that displays the number 4. It refers to the fourth step in an image that depicts this workflow.
      "In a future version, you will be able to upload {icon4} a CSV to a Dataset directly.",
      "Datasets are configured during Form design."
    ],
    "getStarted": {
      "full": "For more information on how to get started, {clickHere}.",
      "clickHere": "click here"
    },
    "datasetsWorkflow": "Datasets workflow"
  }
}
</i18n>

<!-- Autogenerated by destructure.js -->
<i18n>
{
  "cs": {
    "title": "Vítejte v náhledu datových sad!",
    "body": [
      "Datové sady představují nový způsob vytváření a správy datových příloh v ODK. Umožňují používat data shromážděná v Podáních, která lze stáhnout a použít jako součást jiného formuláře.",
      "Datové soubory lze připojit {icon1} k formulářům a dotazovat se na jejich data stejně jako na jakýkoli jiný připojený datový soubor CSV.",
      "Po schválení {icon2} podání souvisejícího s datovou sadou se vybraná data přidají {icon3} do datové sady, takže při příštím stažení formuláře klientem budou nová data zahrnuta do stahování dat.",
      "V některé z budoucích verzí bude možné nahrát {icon4} CSV přímo do datové sady.",
      "Datové sady se konfigurují během návrhu formuláře."
    ],
    "getStarted": {
      "full": "Další informace o tom, jak začít, najdete {clickHere}.",
      "clickHere": "klikněte zde"
    },
    "datasetsWorkflow": "Pracovní postup s datovými sadami"
  },
  "fr": {
    "title": "Bienvenue dans l’aperçu des Datasets !",
    "body": [
      "Les Datasets sont un nouveau moyen de créer et gérer des données attachées dans ODK. Ils vous permettent d'utiliser les données collectées dans les Soumissions en les téléchargeant et en les utilisant dans un autre formulaire.",
      "Les Datasets peuvent être joints {icon1} aux formulaires et leurs données peuvent être interrogées comme n'importe quel autre fichier de données CSV joint.",
      "Lorsqu'une soumission concernant un Dataset est approuvée {icon2}, les données sélectionnées sont ajoutées {icon3} au Dataset, de sorte que la prochaine fois qu'un client téléchargera le formulaire, les nouvelles données seront incluses.",
      "Dans une version future vous pourrez envoyer {icon4} un CSV directement dans un Dataset",
      "Les Datasets sont configurés lors de la création du Formulaire."
    ],
    "getStarted": {
      "full": "Pour plus d'information sur comment démarrer, {clickHere}.",
      "clickHere": "cliquez ici"
    },
    "datasetsWorkflow": "Le \"Workflow\" des Datasets"
  },
  "it": {
    "title": "Benvenuto nell'anteprima dei set di dati!",
    "body": [
      "I set di dati sono un nuovo modo per creare e gestire gli allegati dati in ODK. Consentono di utilizzare i dati raccolti negli Invii per essere scaricati e utilizzati come parte di un altro Formulario.",
      "I set di dati possono essere allegati {icon1} ai formulari e i relativi dati possono essere interrogati proprio come qualsiasi altro file di dati CSV allegato.",
      "Quando viene approvato un Invio relativo a un Dataset {icon2}, i dati selezionati vengono aggiunti {icon3} al set di dati, in modo che la volta successiva che un cliente scaricherà il formulario, i nuovi dati verranno inclusi nel download dei dati.",
      "In una versione futura, sarai in grado di caricare {icon4} direttamente un CSV a un set di dati.",
      "I set di dati vengono configurati durante la progettazione del formulario."
    ],
    "getStarted": {
      "full": "Per ulteriori informazioni su come iniziare,{clickHere}.",
      "clickHere": "clicca qui"
    },
    "datasetsWorkflow": "Flusso di lavoro dei set di dati"
  }
}
</i18n>
