import{ah as $,_ as k,a as F,r as M,g as D,o as O,i as S,d as E,e as q,t as v,f as B,u as R}from"./index-BJJ6YbMy.js";import{_ as I}from"./modal-BMSEXbZM.js";var x,V;function j(){if(V)return x;V=1;function s(n,u={}){u.filter=u.filter||(()=>!0);function h(){return e()||d()||a()||c()}function w(){return o(/\s*/),e(!0)||a()||t()||X(!1)}function g(){const i=b(),r=[];let l,f=w();for(;f;){if(f.node.type==="Element"){if(l)throw new Error("Found multiple root nodes");l=f.node}f.excluded||r.push(f.node),f=w()}if(!l)throw new Error("Failed to parse XML");return{declaration:i?i.node:null,root:l,children:r}}function b(){return X(!0)}function X(i){const r=o(i?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!r)return;const l={name:r[1],type:"ProcessingInstruction",attributes:{}};for(;!(_()||C("?>"));){const f=p();if(!f)return l;l.attributes[f.name]=f.value}return o(/\?>/),{excluded:i?!1:u.filter(l)===!1,node:l}}function e(i){const r=o(/^<([\w-:.]+)\s*/);if(!r)return;const l={type:"Element",name:r[1],attributes:{},children:[]};for(;!(_()||C(">")||C("?>")||C("/>"));){const m=p();if(!m)return l;l.attributes[m.name]=m.value}const f=i?!1:u.filter(l)===!1;if(o(/^\s*\/>/))return l.children=null,{excluded:f,node:l};if(o(/\??>/),!f){let m=h();for(;m;)m.excluded||l.children.push(m.node),m=h()}return o(/^<\/[\w-:.]+>/),{excluded:f,node:l}}function t(){const i=o(/^<!DOCTYPE\s+[^>]*>/);if(i){const r={type:"DocumentType",content:i[0]};return{excluded:u.filter(r)===!1,node:r}}}function c(){if(n.startsWith("<![CDATA[")){const i=n.indexOf("]]>");if(i>-1){const r=i+3,l={type:"CDATA",content:n.substring(0,r)};return n=n.slice(r),{excluded:u.filter(l)===!1,node:l}}}}function a(){const i=o(/^<!--[\s\S]*?-->/);if(i){const r={type:"Comment",content:i[0]};return{excluded:u.filter(r)===!1,node:r}}}function d(){const i=o(/^([^<]+)/);if(i){const r={type:"Text",content:i[1]};return{excluded:u.filter(r)===!1,node:r}}}function p(){const i=o(/([\w-:.]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(i)return{name:i[1],value:y(i[2])}}function y(i){return i.replace(/^['"]|['"]$/g,"")}function o(i){const r=n.match(i);if(r)return n=n.slice(r[0].length),r}function _(){return n.length===0}function C(i){return n.indexOf(i)===0}return n=n.trim(),g()}return x=s,x}var L,N;function z(){if(N)return L;N=1;function s(e){if(!e.options.indentation&&!e.options.lineSeparator)return;e.content+=e.options.lineSeparator;let t;for(t=0;t<e.level;t++)e.content+=e.options.indentation}function n(e,t){e.content+=t}function u(e,t,c){if(typeof e.content=="string")h(e,t,c);else if(e.type==="Element")w(e,t,c);else if(e.type==="ProcessingInstruction")b(e,t);else throw new Error("Unknown node type: "+e.type)}function h(e,t,c){c||(e.content=e.content.trim()),e.content.length>0&&(!c&&t.content.length>0&&s(t),n(t,e.content))}function w(e,t,c){if(!c&&t.content.length>0&&s(t),n(t,"<"+e.name),g(t,e.attributes),e.children===null){const a=t.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";n(t,a)}else if(e.children.length===0)n(t,"></"+e.name+">");else{n(t,">"),t.level++;let a=e.attributes["xml:space"]==="preserve";if(!a&&t.options.collapseContent){let d=!1,p=!1,y=!1;e.children.forEach(function(o,_){o.type==="Text"?(o.content.includes(`
`)?(p=!0,o.content=o.content.trim()):(_===0||_===e.children.length-1)&&o.content.trim().length===0&&(o.content=""),o.content.length>0&&(d=!0)):o.type==="CDATA"?d=!0:y=!0}),d&&(!y||!p)&&(a=!0)}e.children.forEach(function(d){u(d,t,c||a,t.options)}),t.level--,!c&&!a&&s(t),n(t,"</"+e.name+">")}}function g(e,t){Object.keys(t).forEach(function(c){const a=t[c].replace(/"/g,"&quot;");n(e," "+c+'="'+a+'"')})}function b(e,t){t.content.length>0&&s(t),n(t,"<?"+e.name),g(t,e.attributes),n(t,"?>")}function X(e,t={}){t.indentation="indentation"in t?t.indentation:"    ",t.collapseContent=t.collapseContent===!0,t.lineSeparator="lineSeparator"in t?t.lineSeparator:`\r
`,t.whiteSpaceAtEndOfSelfclosingTag=!!t.whiteSpaceAtEndOfSelfclosingTag;const a=j()(e,{filter:t.filter}),d={content:"",level:0,options:t};return a.declaration&&b(a.declaration,d),a.children.forEach(function(p){u(p,d,!1)}),d.content.replace(/\r\n/g,`
`).replace(/\n/g,t.lineSeparator)}return L=X,L}var H=z();const W=$(H);function A(s){const n=s;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"",resource:{en:{title:{t:0,b:{t:2,i:[{t:3}],s:"View XML"}}}}})}function P(s){const n=s;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"",resource:{cs:{title:{t:0,b:{t:2,i:[{t:3}],s:"Zobrazit XML"}}},de:{title:{t:0,b:{t:2,i:[{t:3}],s:"XML ansehen"}}},es:{title:{t:0,b:{t:2,i:[{t:3}],s:"Ver el XML"}}},fr:{title:{t:0,b:{t:2,i:[{t:3}],s:"Afficher le XML"}}},id:{title:{t:0,b:{t:2,i:[{t:3}],s:"Lihat XML"}}},it:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vedi XML"}}},ja:{title:{t:0,b:{t:2,i:[{t:3}],s:"XMLの閲覧"}}},pt:{title:{t:0,b:{t:2,i:[{t:3}],s:"Exibir XML"}}},sw:{title:{t:0,b:{t:2,i:[{t:3}],s:"Tazama XML"}}},"zh-Hant":{title:{t:0,b:{t:2,i:[{t:3}],s:"檢視XML"}}}}})}const T={name:"FormVersionViewXml",components:{Modal:I,Spinner:F},props:{state:{type:Boolean,default:!1}},emits:["hide"],setup(){const{formVersionXml:s}=R();return{formVersionXml:s}},computed:{formattedXml(){return this.formVersionXml.dataExists?W(this.formVersionXml.data,{collapseContent:!0}):""}},watch:{state(s){s||this.formVersionXml.reset()}}},U={class:"modal-actions"};function Y(s,n,u,h,w,g){const b=M("spinner"),X=M("modal");return O(),D(X,{id:"form-version-view-xml",state:u.state,hideable:"",backdrop:"",onHide:n[1]||(n[1]=e=>s.$emit("hide"))},{title:S(()=>[B(v(s.$t("title")),1)]),body:S(()=>[E("pre",null,[q(b,{state:h.formVersionXml.initiallyLoading},null,8,["state"]),E("code",null,v(g.formattedXml),1)]),E("div",U,[E("button",{type:"button",class:"btn btn-primary",onClick:n[0]||(n[0]=e=>s.$emit("hide"))},v(s.$t("action.close")),1)])]),_:1},8,["state"])}typeof A=="function"&&A(T);typeof P=="function"&&P(T);const J=k(T,[["render",Y]]);export{J as default};
