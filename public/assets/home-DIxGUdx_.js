import{L as _t}from"./linkable-ByHyCO2J.js";import{ay as lt,bi as wt,bj as jt,aa as Pt,_ as M,r as v,g,o as r,i as m,d as a,k as $,R as L,u as D,n as T,c as i,e as f,p as _,f as p,t as u,h as w,F as h,a as I,b as Ft,M as dt,w as C,z,l as q,j as S,q as P,K as Ct,H as O,L as St,v as Mt,bk as U,J as mt,a0 as W,P as Dt,G as pt,A as Et,av as $t,ax as zt,bl as Lt,$ as It,a1 as Ot,Q as Tt}from"./index-BJJ6YbMy.js";import{_ as qt}from"./section-EpBA88m2.js";import{_ as bt}from"./modal-BMSEXbZM.js";import{u as At}from"./request--gXHIWga.js";import{D as ht}from"./datetime-3JD3bssD.js";import{D as ft,f as vt}from"./date-time-CEONMtaY.js";import{_ as Nt}from"./link-CVIq4c0k.js";import{u as Vt}from"./review-state-DuiKQZfx.js";import{_ as Ht}from"./link-6wXOPrfc.js";import{_ as Bt}from"./sentence-separator-DdZUROGk.js";import{s as Rt}from"./sort-bd-YlzAd.js";import{u as Ut}from"./chunky-array-CH9f7RmW.js";import"./link-if-can-B5zC8OjL.js";import"./hover-card-hXE3Fll1.js";var Wt=lt(function(t,o){return Number(t)+Number(o)});function Kt(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(o){return t.apply(this,arguments)};case 2:return function(o,n){return t.apply(this,arguments)};case 3:return function(o,n,c){return t.apply(this,arguments)};case 4:return function(o,n,c,s){return t.apply(this,arguments)};case 5:return function(o,n,c,s,l){return t.apply(this,arguments)};case 6:return function(o,n,c,s,l,d){return t.apply(this,arguments)};case 7:return function(o,n,c,s,l,d,y){return t.apply(this,arguments)};case 8:return function(o,n,c,s,l,d,y,k){return t.apply(this,arguments)};case 9:return function(o,n,c,s,l,d,y,k,b){return t.apply(this,arguments)};case 10:return function(o,n,c,s,l,d,y,k,b,F){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}const xt=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};var Zt=wt(function(t){return xt(t)?!0:!t||typeof t!="object"||jt(t)?!1:t.nodeType===1?!!t.length:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),Gt=(function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,o){return this.f(t,o)},e})();function Jt(e){return new Gt(e)}var Xt=lt(function(t,o){return Kt(t.length,function(){return t.apply(o,arguments)})});function Qt(e,t,o){for(var n=0,c=o.length;n<c;){if(t=e["@@transducer/step"](t,o[n]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}function K(e,t,o){for(var n=o.next();!n.done;){if(t=e["@@transducer/step"](t,n.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=o.next()}return e["@@transducer/result"](t)}function x(e,t,o,n){return e["@@transducer/result"](o[n](Xt(e["@@transducer/step"],e),t))}var Z=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Yt(e,t,o){if(typeof e=="function"&&(e=Jt(e)),Zt(o))return Qt(e,t,o);if(typeof o["fantasy-land/reduce"]=="function")return x(e,t,o,"fantasy-land/reduce");if(o[Z]!=null)return K(e,t,o[Z]());if(typeof o.next=="function")return K(e,t,o);if(typeof o.reduce=="function")return x(e,t,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}var te=Pt(Yt),G=te(Wt,0);const ee={name:"HomeSummaryItem",components:{Linkable:_t},props:{to:String,icon:{type:String,required:!0}}},oe={class:"heading"},se={class:"header"},ne={class:"subheader"},ae={class:"body"};function re(e,t,o,n,c,s){const l=v("linkable");return r(),g(l,{tag:"div",to:o.to,class:"home-summary-item"},{default:m(()=>[a("div",oe,[a("span",{class:$(`icon-${o.icon}`)},null,2),a("div",null,[a("div",se,[L(e.$slots,"header")]),a("div",ne,[L(e.$slots,"subheader")])])]),a("p",ae,[L(e.$slots,"body")])]),_:3},8,["to"])}const E=M(ee,[["render",re]]);function J(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{projects:{body:{t:0,b:{t:2,i:[{t:3}],s:"Central is organized into Projects, each containing its own Forms and related data."}}},users:{body:{t:0,b:{t:2,i:[{t:3}],s:"Users can be assigned to Projects to manage them, collect data, or review Submissions."}}},docs:{body:{t:0,b:{t:2,i:[{t:3}],s:"A Getting Started Guide and user documentation are available on the ODK Docs website."}}},forum:{body:{t:0,b:{t:2,i:[{t:3}],s:"Need help? Visit the forum to ask questions or browse past discussions."}}}}}})}function X(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{de:{projects:{body:{t:0,b:{t:2,i:[{t:3}],s:"Central ist in Projekte organisiert, die jeweils ihre eigenen Formulare und zugehörigen Daten enthalten."}}},users:{body:{t:0,b:{t:2,i:[{t:3}],s:"Benutzer können Projekten zugewiesen werden, um sie zu verwalten oder eingereichte Daten zu sammeln oder Übermittlungen zu überprüfen."}}},docs:{body:{t:0,b:{t:2,i:[{t:3}],s:"Es gibt ein Erste-Schritte-Tutorial und die Benutzerdokumentation auf der ODK Docs Webseite."}}},forum:{body:{t:0,b:{t:2,i:[{t:3}],s:"Brauchen Sie Hilfe? Besuchen Sie das Forum, um Fragen zu stellen oder frühere Diskussionen zu verfolgen."}}}},es:{projects:{body:{t:0,b:{t:2,i:[{t:3}],s:"Central está organizada en Proyectos, cada uno de los cuales contiene sus propios Formularios y datos relacionados."}}},users:{body:{t:0,b:{t:2,i:[{t:3}],s:"Los usuarios pueden asignarse a Proyectos para administrarlos o para recopilar o revisar los datos enviados."}}},docs:{body:{t:0,b:{t:2,i:[{t:3}],s:"Hay una guía de inicio y documentación del usuario disponibles en el sitio web de ODK Docs."}}},forum:{body:{t:0,b:{t:2,i:[{t:3}],s:"¿Necesita ayuda? Visite el foro para hacer preguntas o consultar debates anteriores."}}}},fr:{projects:{body:{t:0,b:{t:2,i:[{t:3}],s:"Central est organisé en Projets, ayant chacun ses propres formulaires et les données associées."}}},users:{body:{t:0,b:{t:2,i:[{t:3}],s:"Les utilisateurs peuvent être assignés à des Projets pour les gérer, collecter des données ou passer en revue les soumissions."}}},docs:{body:{t:0,b:{t:2,i:[{t:3}],s:"Un Guide de Démarrage et une documentation utilisateur sont disponibles sur le site web ODK Docs."}}},forum:{body:{t:0,b:{t:2,i:[{t:3}],s:"Besoin d'aide ? Visitez le forum pour poser des questions ou parcourir les anciennes discussions."}}}},it:{projects:{body:{t:0,b:{t:2,i:[{t:3}],s:"Central è organizzato in Progetti, ognuno dei quali contiene i propri Formulari e i relativi dati."}}},users:{body:{t:0,b:{t:2,i:[{t:3}],s:"Gli utenti possono essere assegnati ai progetti per gestirli, per raccogliere o rivedere i dati inviati."}}},docs:{body:{t:0,b:{t:2,i:[{t:3}],s:"Sul sito Web di ODK Docs sono disponibili una guida introduttiva e una documentazione per l'utente."}}},forum:{body:{t:0,b:{t:2,i:[{t:3}],s:"Avete bisogno di aiuto? Visitate il forum per porre domande o consultare le discussioni precedenti."}}}},"zh-Hant":{projects:{body:{t:0,b:{t:2,i:[{t:3}],s:"Central 以專案為單位組織，每個專案包含其表單與相關數據。"}}},users:{body:{t:0,b:{t:2,i:[{t:3}],s:"使用者可被指派至專案，以管理專案、收集資料或檢閱提交內容。"}}},docs:{body:{t:0,b:{t:2,i:[{t:3}],s:"ODK 文件網站上提供了入門指南和使用者文件。"}}},forum:{body:{t:0,b:{t:2,i:[{t:3}],s:"需要協助嗎？訪問論壇提問或瀏覽過去的討論。"}}}}}})}const ie={id:"home-summary-container"},ue={id:"home-summary"},A=Object.assign({name:"HomeSummary"},{__name:"summary",setup(e){const{currentUser:t,projects:o,createResource:n}=D(),c=n("users");return t.can("user.list")&&c.request({url:"/v1/users"}).catch(T),(s,l)=>(r(),i("div",ie,[a("div",ue,[f(E,{icon:"archive"},{header:m(()=>[w(o).initiallyLoading?(r(),g(I,{key:1,inline:""})):(r(),i(h,{key:0},[p(u(s.$n(w(o).length,"default")),1)],64))]),subheader:m(()=>[p(u(s.$tc("plural.project",w(o).length??0)),1)]),body:m(()=>[p(u(s.$t("projects.body")),1)]),_:1}),w(t).can("user.list")?(r(),g(E,{key:0,to:"/users",icon:"user-circle"},{header:m(()=>[w(c).initiallyLoading?(r(),g(I,{key:1,inline:""})):(r(),i(h,{key:0},[p(u(s.$n(w(c).length,"default")),1)],64))]),subheader:m(()=>[p(u(s.$tc("plural.user",w(c).length??0)),1)]),body:m(()=>[p(u(s.$t("users.body")),1)]),_:1})):_("",!0),f(E,{to:"#",icon:"book"},{header:m(()=>[p(u(s.$t("common.docs")),1)]),body:m(()=>[p(u(s.$t("docs.body")),1)]),_:1}),f(E,{to:"#",icon:"comments-o"},{header:m(()=>[p(u(s.$t("common.forum")),1)]),body:m(()=>[p(u(s.$t("forum.body")),1)]),_:1})])]))}});typeof J=="function"&&J(A);typeof X=="function"&&X(A);function Q(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{title:{t:0,b:{t:2,i:[{t:3}],s:"Create Project"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"Projects group Forms and App Users together to make them easier to organize and manage, both on this website and on your data collection device."}}]}}})}function Y(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{title:{t:0,b:{t:2,i:[{t:3}],s:"Vytvořit Projekt"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"Skupiny projektů Formulářů a Uživatelů aplikací společně usnadňují jejich organizaci a správu, a to jak na tomto webu, tak v zařízení pro sběr dat."}}]},de:{title:{t:0,b:{t:2,i:[{t:3}],s:"Projekt erstellen"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"Projekte gruppieren Formulare und App-Benutzer, um es zu vereinfachen, sie zu organisieren und zu verwalten, sowohl auf dieser Webseite als auch auf Ihrem Datenerfassungsgerät."}}]},es:{title:{t:0,b:{t:2,i:[{t:3}],s:"Crear proyecto"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"Los proyectos agrupan formularios y Usuarios móviles juntos para facilitar su organización y manejo, tanto en este sitio web como en su dispositivo de recolección de datos."}}]},fr:{title:{t:0,b:{t:2,i:[{t:3}],s:"Créer un projet"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"Les projets regroupent les formulaires et les utilisateurs mobiles afin de les rendre plus faciles à organiser et à gérer, tant sur ce site web que sur votre appareil de collecte de données."}}]},id:{title:{t:0,b:{t:2,i:[{t:3}],s:"Buat Proyek"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"Proyek mengelompokkan Formulir dan Pengguna Aplikasi untuk mempermudah pengorganisiran dan pengaturan, baik melalui website ini maupun perangkat koleksi data Anda."}}]},it:{title:{t:0,b:{t:2,i:[{t:3}],s:"Crea Progetto"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"I progetti raggruppano formulari e utenti dell'app per semplificarne l'organizzazione e la gestione, sia su questo sito Web che sul dispositivo di raccolta dati."}}]},ja:{title:{t:0,b:{t:2,i:[{t:3}],s:"プロジェクトの作成"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"プロジェクトでは、フォームやアプリユーザーをグループ化して、このWebサイトとデータ収集デバイスの両方で、整理と管理を簡易化します。"}}]},pt:{title:{t:0,b:{t:2,i:[{t:3}],s:"Criar projeto"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"Os projetos agrupam formulários e usuários de aplicativos para torná-los mais fáceis de organizar e gerenciar, tanto neste site quanto em seu dispositivo de coleta de dados."}}]},sw:{title:{t:0,b:{t:2,i:[{t:3}],s:"Unda Mradi"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"Miradi huweka pamoja Fomu na Watumiaji wa Programu ili kurahisisha kupanga na kudhibiti, kwenye tovuti hii na kwenye kifaa chako cha kukusanya data."}}]},"zh-Hant":{title:{t:0,b:{t:2,i:[{t:3}],s:"建立專案"}},introduction:[{t:0,b:{t:2,i:[{t:3}],s:"專案將表單和APP使用者分組在一起，以便在本網站和資料收集設備上更輕鬆地組織和管理它們"}}]}}})}const N={name:"ProjectNew",components:{DocLink:dt,FormGroup:Ft,Modal:bt,Spinner:I},props:{state:{type:Boolean,default:!1}},emits:["hide","success"],setup(){const{request:e,awaitingResponse:t}=At();return{request:e,awaitingResponse:t}},data(){return{name:""}},watch:{state(e){e||(this.name="")}},methods:{submit(){this.request({method:"POST",url:"/v1/projects",data:{name:this.name}}).then(({data:e})=>{this.$emit("success",e)}).catch(T)}}},ce={class:"modal-introduction"},le={class:"modal-actions"},de=["aria-disabled"],me=["aria-disabled"];function pe(e,t,o,n,c,s){const l=v("form-group"),d=v("spinner"),y=v("modal");return r(),g(y,{id:"project-new",state:o.state,hideable:!n.awaitingResponse,backdrop:"",onHide:t[3]||(t[3]=k=>e.$emit("hide")),onShown:t[4]||(t[4]=k=>e.$refs.name.focus())},{title:m(()=>[p(u(e.$t("title")),1)]),body:m(()=>[a("div",ce,[a("p",null,u(e.$t("introduction[0]")),1)]),a("form",{onSubmit:t[2]||(t[2]=C((...k)=>s.submit&&s.submit(...k),["prevent"]))},[f(l,{ref:"name",modelValue:c.name,"onUpdate:modelValue":t[0]||(t[0]=k=>c.name=k),modelModifiers:{trim:!0},placeholder:e.$t("field.name"),required:"",autocomplete:"off"},null,8,["modelValue","placeholder"]),a("div",le,[a("button",{type:"button",class:"btn btn-link","aria-disabled":n.awaitingResponse,onClick:t[1]||(t[1]=k=>e.$emit("hide"))},u(e.$t("action.cancel")),9,de),a("button",{type:"submit",class:"btn btn-primary","aria-disabled":n.awaitingResponse},[p(u(e.$t("action.create"))+" ",1),f(d,{state:n.awaitingResponse},null,8,["state"])],8,me)])],32)]),_:1},8,["state","hideable"])}typeof Q=="function"&&Q(N);typeof Y=="function"&&Y(N);const be=M(N,[["render",pe]]),he={name:"ProjectFormRow",components:{DateTime:ft,FormLink:Nt},props:{form:{type:Object,required:!0},project:{type:Object,required:!0},showIcon:{type:Boolean,required:!0}},setup(){const{projects:e}=D(),{duplicateFormNamesPerProject:t}=e.toRefs(),{formPath:o,newSubmissionPath:n}=z(),{reviewStateIcon:c}=Vt();return{duplicateFormNamesPerProject:t,formPath:o,newSubmissionPath:n,reviewStateIcon:c}},computed:{canLinkToDraftStatus(){return this.form.publishedAt==null&&this.project.permits("form.update")},canLinkToSubmissions(){return this.project.permits("submission.list")},canLinkToEnketo(){return this.form.publishedAt!=null&&this.form.state==="open"&&this.form.enketoId!==null},visibleReviewStates:()=>["received","hasIssues","edited"],submissionsPath(){const e=this.formPath(this.form.projectId,this.form.xmlFormId,"submissions");return{received:`${e}?reviewState=null`,edited:`${e}?reviewState=%27edited%27`,hasIssues:`${e}?reviewState=%27hasIssues%27`,all:e}},enketoPath(){return this.newSubmissionPath(this.form.projectId,this.form.xmlFormId,!this.form.publishedAt)},showIdForDuplicateName(){const e=this.duplicateFormNamesPerProject[this.project.id];return e?e.has(this.form.nameOrId.toLocaleLowerCase()):!1},lastSubmissionTooltip(){const{lastSubmission:e}=this.form,t=this.$t("header.lastSubmission");if(e==null)return t;const o=vt(ht.fromISO(e));return`${t}
${o}`}}},fe={class:"project-form-row"},ve={class:"col-icon"},ye={key:0,class:"icon-file"},ke={class:"form-name"},ge=["href"],_e={key:3,class:"duplicate-form-id"},we={class:"last-submission"},je={class:"total-submissions"},Pe={key:1,class:"not-published",colspan:"5"};function Fe(e,t,o,n,c,s){const l=v("form-link"),d=v("router-link"),y=v("date-time"),k=q("tooltip");return r(),i("tr",fe,[a("td",ve,[o.showIcon?(r(),i("span",ye)):_("",!0)]),a("td",ke,[s.canLinkToDraftStatus?(r(),g(l,{key:0,form:o.form},null,8,["form"])):s.canLinkToSubmissions?(r(),g(l,{key:1,form:o.form,to:s.submissionsPath.all},null,8,["form","to"])):(r(),i(h,{key:2},[s.canLinkToEnketo?(r(),i("a",{key:0,href:s.enketoPath,target:"_blank"},u(o.form.nameOrId),9,ge)):(r(),i(h,{key:1},[p(u(o.form.nameOrId),1)],64))],64)),s.showIdForDuplicateName?(r(),i("span",_e,"("+u(o.form.xmlFormId)+")",1)):_("",!0)]),o.form.publishedAt!=null?(r(),i(h,{key:0},[(r(!0),i(h,null,S(s.visibleReviewStates,b=>(r(),i("td",{key:b,class:"review-state"},[P((r(),i("span",null,[s.canLinkToSubmissions?(r(),g(d,{key:0,to:s.submissionsPath[b]},{default:m(()=>[a("span",null,u(e.$n(o.form.reviewStates[b],"default")),1),a("span",{class:$(n.reviewStateIcon(b))},null,2)]),_:2},1032,["to"])):(r(),i(h,{key:1},[a("span",null,u(e.$n(o.form.reviewStates[b],"default")),1),a("span",{class:$(n.reviewStateIcon(b))},null,2)],64))])),[[k,e.$t(`reviewState.${b}`),void 0,{"no-aria":!0}]])]))),128)),a("td",we,[P((r(),i("span",null,[o.form.lastSubmission!=null?(r(),i(h,{key:0},[s.canLinkToSubmissions?(r(),g(d,{key:0,to:s.submissionsPath.all},{default:m(()=>[f(y,{iso:o.form.lastSubmission,relative:"past",tooltip:!1},null,8,["iso"]),t[0]||(t[0]=a("span",{class:"icon-clock-o"},null,-1))]),_:1,__:[0]},8,["to"])):(r(),i(h,{key:1},[f(y,{iso:o.form.lastSubmission,relative:"past",tooltip:!1},null,8,["iso"]),t[1]||(t[1]=a("span",{class:"icon-clock-o"},null,-1))],64))],64)):(r(),i(h,{key:1},[p(u(e.$t("submission.noSubmission")),1)],64))])),[[k,s.lastSubmissionTooltip,void 0,{"no-aria":!0}]])]),a("td",je,[P((r(),i("span",null,[s.canLinkToSubmissions?(r(),g(d,{key:0,to:s.submissionsPath.all},{default:m(()=>[a("span",null,u(e.$n(o.form.submissions,"default")),1),t[2]||(t[2]=a("span",{class:"icon-asterisk"},null,-1))]),_:1,__:[2]},8,["to"])):(r(),i(h,{key:1},[a("span",null,u(e.$n(o.form.submissions,"default")),1),t[3]||(t[3]=a("span",{class:"icon-asterisk"},null,-1))],64))])),[[k,e.$t("common.totalSubmissions"),void 0,{"no-aria":!0}]])])],64)):(r(),i("td",Pe,[a("span",null,u(e.$t("formState.unpublished")),1),t[4]||(t[4]=a("span",{class:"icon-asterisk"},null,-1))]))])}const Ce=M(he,[["render",Fe]]),Se={class:"project-dataset-row"},Me={class:"col-icon"},De={key:0,class:"icon-database"},Ee={colspan:"2",class:"dataset-name"},$e={colspan:"2",class:"conflicts-count"},ze={class:"last-entity"},Le={class:"total-entities"},Ie={__name:"dataset-row",props:{dataset:{type:Object,required:!0},project:{type:Object,required:!0},showIcon:{type:Boolean,required:!0}},setup(e){const t=e,{datasetPath:o}=z(),{t:n}=Ct(),c=O(()=>{const{lastEntity:s}=t.dataset,l=n("header.lastEntity");if(s==null)return l;const d=vt(ht.fromISO(s));return`${l}
${d}`});return(s,l)=>{const d=v("router-link"),y=q("tooltip");return r(),i("tr",Se,[a("td",Me,[e.showIcon?(r(),i("span",De)):_("",!0)]),a("td",Ee,[P(f(Ht,{"project-id":e.project.id,name:e.dataset.name},null,8,["project-id","name"]),[[y,void 0,void 0,{text:!0}]])]),a("td",$e,[P((r(),i("span",null,[f(d,{class:$({"btn btn-danger":e.dataset.conflicts>0}),to:w(o)(e.project.id,e.dataset.name,"entities?conflict=true")},{default:m(()=>[p(u(e.dataset.conflicts>0?s.$tcn("entity.conflictsCount",e.dataset.conflicts):s.$n(0)),1),l[0]||(l[0]=a("span",{class:"icon-warning"},null,-1))]),_:1,__:[0]},8,["class","to"])])),[[y,e.dataset.conflicts>0?null:s.$t("common.conflicts"),void 0,{"no-aria":!0}]])]),a("td",ze,[P((r(),i("span",null,[e.dataset.lastEntity!=null?(r(),g(d,{key:0,to:w(o)(e.project.id,e.dataset.name,"entities")},{default:m(()=>[f(ft,{iso:e.dataset.lastEntity,relative:"past",tooltip:!1},null,8,["iso"]),l[1]||(l[1]=a("span",{class:"icon-clock-o"},null,-1))]),_:1,__:[1]},8,["to"])):(r(),i(h,{key:1},[p(u(s.$t("entity.noEntity")),1)],64))])),[[y,c.value,void 0,{"no-aria":!0}]])]),a("td",Le,[P((r(),i("span",null,[f(d,{to:w(o)(e.project.id,e.dataset.name,"entities")},{default:m(()=>[a("span",null,u(s.$n(e.dataset.entities,"default")),1),l[2]||(l[2]=a("span",{class:"icon-asterisk"},null,-1))]),_:1,__:[2]},8,["to"])])),[[y,s.$t("common.totalEntities"),void 0,{"no-aria":!0}]])])])}}};function tt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"Encrypted"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"This Project uses managed encryption."}},showMore:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Show "},{t:4,k:"count"},{t:3,v:" total Form"}]},{t:2,i:[{t:3,v:"Show "},{t:4,k:"count"},{t:3,v:" total Forms"}]}]}},showMoreDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Show "},{t:4,k:"count"},{t:3,v:" total Entity List"}]},{t:2,i:[{t:3,v:"Show "},{t:4,k:"count"},{t:3,v:" total Entity Lists"}]}]}},showFewer:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Show fewer of "},{t:4,k:"count"},{t:3,v:" total Form"}]},{t:2,i:[{t:3,v:"Show fewer of "},{t:4,k:"count"},{t:3,v:" total Forms"}]}]}},showFewerDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Show fewer of "},{t:4,k:"count"},{t:3,v:" total Entity List"}]},{t:2,i:[{t:3,v:"Show fewer of "},{t:4,k:"count"},{t:3,v:" total Entity Lists"}]}]}},hidden:{t:0,b:{t:2,i:[{t:3}],s:"hidden"}}}}})}function et(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"Šifrováno"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"Tento projekt používá řízené šifrování."}},hidden:{t:0,b:{t:2,i:[{t:3}],s:"skryto"}}},de:{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"Verschlüsselt"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"Dieses Projekt verwendet verwaltete Verschlüsselung."}},showMore:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Zeige alle "},{t:4,k:"count"},{t:3,v:" Formular"}]},{t:2,i:[{t:3,v:"Zeige alle "},{t:4,k:"count"},{t:3,v:" Formulare"}]}]}},showMoreDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Zeige alle "},{t:4,k:"count"},{t:3,v:" Entitätsliste"}]},{t:2,i:[{t:3,v:"Zeige alle "},{t:4,k:"count"},{t:3,v:" Entitätslisten"}]}]}},showFewer:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Zeige weniger von insgesamt "},{t:4,k:"count"},{t:3,v:" Formular"}]},{t:2,i:[{t:3,v:"Zeige weniger von insgesamt "},{t:4,k:"count"},{t:3,v:" Formularen"}]}]}},showFewerDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Zeige weniger von insgesamt "},{t:4,k:"count"},{t:3,v:" Entitätsliste"}]},{t:2,i:[{t:3,v:"Zeige weniger von insgesamt "},{t:4,k:"count"},{t:3,v:" Entitätslisten"}]}]}},hidden:{t:0,b:{t:2,i:[{t:3}],s:"versteckt"}}},es:{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"Cifrado"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"Este proyecto utiliza cifrado administrado."}},showMore:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" total formulario"}]},{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" totales formularios"}]},{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" totales formularios"}]}]}},showMoreDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" lista de entidades"}]},{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" listas de entidades"}]},{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" listas de entidades"}]}]}},showFewer:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" total formulario"}]},{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" totales formularios"}]},{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" totales formularios"}]}]}},showFewerDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" lista de entidades"}]},{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" listas de entidades"}]},{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" listas de entidades"}]}]}},hidden:{t:0,b:{t:2,i:[{t:3}],s:"oculto"}}},fr:{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"Chiffré"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"Ce projet utilise un chiffrement des données."}},showMore:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Afficher tous les "},{t:4,k:"count"},{t:3,v:" Formulaires"}]},{t:2,i:[{t:3,v:"Afficher tous les "},{t:4,k:"count"},{t:3,v:" Formulaires"}]},{t:2,i:[{t:3,v:"Afficher les "},{t:4,k:"count"},{t:3,v:" Formulaires"}]}]}},showMoreDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Afficher toutes les "},{t:4,k:"count"},{t:3,v:" Listes d'Entités"}]},{t:2,i:[{t:3,v:"Afficher toutes les "},{t:4,k:"count"},{t:3,v:" Listes d'Entités"}]},{t:2,i:[{t:3,v:"Afficher toutes les "},{t:4,k:"count"},{t:3,v:" listes d'entités"}]}]}},showFewer:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Voir moins que ce "},{t:4,k:"count"},{t:3,v:" formulaire"}]},{t:2,i:[{t:3,v:"Voir moins que ces "},{t:4,k:"count"},{t:3,v:" formulaires"}]},{t:2,i:[{t:3,v:"Voir moins que ces "},{t:4,k:"count"},{t:3,v:" formulaires"}]}]}},showFewerDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Voir moins que cette "},{t:4,k:"count"},{t:3,v:" Liste d'Entités"}]},{t:2,i:[{t:3,v:"Voir moins que ces "},{t:4,k:"count"},{t:3,v:" Listes d'Entités"}]},{t:2,i:[{t:3,v:"Voir moins que ces "},{t:4,k:"count"},{t:3,v:" listes d'entités"}]}]}},hidden:{t:0,b:{t:2,i:[{t:3}],s:"caché"}}},id:{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"Terenkripsi"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"Proyek ini menggunakan enkripsi terkelola."}}},it:{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"Crittografato"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"Questo progetto utilizza la crittografia gestita."}},showMore:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostra "},{t:4,k:"count"},{t:3,v:" del totale formulari"}]},{t:2,i:[{t:3,v:"Mostra "},{t:4,k:"count"},{t:3,v:" del totale formulari"}]},{t:2,i:[{t:3,v:"Mostra "},{t:4,k:"count"},{t:3,v:" del totale formulari"}]}]}},showMoreDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostra "},{t:4,k:"count"},{t:3,v:" del totale Lista Entità"}]},{t:2,i:[{t:3,v:"Mostra "},{t:4,k:"count"},{t:3,v:" del totale Lista Entità"}]},{t:2,i:[{t:3,v:"Mostra "},{t:4,k:"count"},{t:3,v:" del totale Lista Entità"}]}]}},showFewer:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostra meno "},{t:4,k:"count"},{t:3,v:" del totale Formulario"}]},{t:2,i:[{t:3,v:"Mostra meno "},{t:4,k:"count"},{t:3,v:" del totale Formulari"}]},{t:2,i:[{t:3,v:"Mostra meno "},{t:4,k:"count"},{t:3,v:" del totale Formulari"}]}]}},showFewerDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostra meno del "},{t:4,k:"count"},{t:3,v:" totale Lista Entità"}]},{t:2,i:[{t:3,v:"Mostra meno del "},{t:4,k:"count"},{t:3,v:" totale Lista Entità"}]},{t:2,i:[{t:3,v:"Mostra meno del "},{t:4,k:"count"},{t:3,v:" totale Lista Entità"}]}]}},hidden:{t:0,b:{t:2,i:[{t:3}],s:"nascosto"}}},pt:{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"Encriptado"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"Este Projeto usa encriptação gerenciada."}},showMore:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" Formulário"}]},{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" total de Formulários"}]},{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" total de Formulários"}]}]}},showMoreDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" Lista de Entidades"}]},{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" total de Listas de Entidades"}]},{t:2,i:[{t:3,v:"Mostrar "},{t:4,k:"count"},{t:3,v:" total de Listas de Entidades"}]}]}},showFewer:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" Formulário"}]},{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" total de Formulários"}]},{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" total de Formulários"}]}]}},showFewerDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" Lista de Entidades"}]},{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" total de Listas de Entidades"}]},{t:2,i:[{t:3,v:"Mostrar menos de "},{t:4,k:"count"},{t:3,v:" total de Listas de Entidades"}]}]}},hidden:{t:0,b:{t:2,i:[{t:3}],s:"oculto"}}},sw:{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"Imesimbwa kwa njia fiche"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"Mradi huu unatumia usimbaji fiche unaodhibitiwa."}},showMore:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Onyesha Jumla ya Fomu "},{t:4,k:"count"}]},{t:2,i:[{t:3,v:"Onyesha Jumla ya Fomu "},{t:4,k:"count"}]}]}},showMoreDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Onyesha Orodha "},{t:4,k:"count"},{t:3,v:" jumla ya Huluki"}]},{t:2,i:[{t:3,v:"Onyesha Orodha "},{t:4,k:"count"},{t:3,v:" jumla ya Huluki"}]}]}},showFewer:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Onyesha idadi ndogo ya Fomu "},{t:4,k:"count"},{t:3,v:" jumla"}]},{t:2,i:[{t:3,v:"Onyesha Jumla ya Fomu "},{t:4,k:"count"},{t:3,v:" chache"}]}]}},showFewerDatasets:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Onyesha idadi ndogo ya Orodha ya Huluki chache kati ya "},{t:4,k:"count"}]},{t:2,i:[{t:3,v:"Onyesha chini ya Orodha "},{t:4,k:"count"},{t:3,v:" jumla ya Huluki"}]}]}},hidden:{t:0,b:{t:2,i:[{t:3}],s:"Fiche"}}},"zh-Hant":{encrypted:{t:0,b:{t:2,i:[{t:3}],s:"加密"}},encryptionTip:{t:0,b:{t:2,i:[{t:3}],s:"該專案使用託管加密。"}},showMore:{t:0,b:{t:2,i:[{t:3,v:"共顯示 "},{t:4,k:"count"},{t:3,v:" 個表單"}]}},showMoreDatasets:{t:0,b:{t:2,i:[{t:3,v:"共顯示 "},{t:4,k:"count"},{t:3,v:" 個實體列表"}]}},showFewer:{t:0,b:{t:2,i:[{t:3,v:"顯示較少的表格（共 "},{t:4,k:"count"},{t:3,v:" 個）"}]}},showFewerDatasets:{t:0,b:{t:2,i:[{t:3,v:"顯示較少的實體清單（共 "},{t:4,k:"count"},{t:3,v:" 個）"}]}},hidden:{t:0,b:{t:2,i:[{t:3}],s:"隱藏"}}}}})}const V={name:"ProjectHomeBlock",components:{ProjectFormRow:Ce,ProjectDatasetRow:Ie},props:{project:{type:Object,required:!0},sortFunc:{type:Function,required:!0},maxForms:{type:Number,default:3},maxDatasets:{type:Number,default:3}},setup(){const{projectPath:e}=z();return{projectPath:e}},data(){return{formExpanded:!1,datasetExpanded:!1}},computed:{visibleForms(){const e=this.project.formList.filter(t=>t.state!=="closed");return e.sort(this.sortFunc),this.formExpanded?e:e.slice(0,this.maxForms)},sortedDatasets(){return[...this.project.datasetList].sort(this.sortFunc)},visibleDataset(){return this.datasetExpanded?this.sortedDatasets:this.sortedDatasets.slice(0,this.maxDatasets)},hiddenConflicts(){return this.datasetExpanded?0:this.sortedDatasets.slice(this.maxDatasets).reduce((e,{conflicts:t})=>e+t,0)},showExpander(){return this.numForms>this.maxForms},numForms(){return this.project.formList.filter(e=>e.state!=="closed").length},showDatasetExpander(){return this.numDatasets>this.maxDatasets},numDatasets(){return this.project.datasetList.length}},methods:{toggleExpanded(){this.formExpanded=!this.formExpanded},toggleDatasetExpanded(){this.datasetExpanded=!this.datasetExpanded}}},Oe={class:"project-home-block"},Te={class:"title"},qe={class:"encrypted badge","aria-hidden":"true"},Ae={class:"sr-only"},Ne={key:0,class:"project-table table"},Ve={key:0,class:"project-form-row transparent-bg"},He={colspan:"6",class:"expand-button-container"},Be={key:1,class:"margin"},Re={key:2,class:"project-dataset-row transparent-bg"},Ue={colspan:"2",class:"expand-button-container"},We={key:0,colspan:"2",class:"conflicts-count"},Ke={key:1,colspan:"2",class:"conflict-caption"};function xe(e,t,o,n,c,s){const l=v("router-link"),d=v("project-form-row"),y=v("project-dataset-row"),k=q("tooltip");return r(),i("div",Oe,[a("div",Te,[f(l,{to:n.projectPath(o.project.id)},{default:m(()=>[p(u(o.project.name),1)]),_:1},8,["to"]),o.project.keyId?(r(),i(h,{key:0},[P((r(),i("span",qe,[t[3]||(t[3]=a("span",{class:"icon-lock"},null,-1)),p(" "+u(e.$t("encrypted")),1)])),[[k,void 0,void 0,{"sr-only":!0}]]),a("span",Ae,u(e.$t("encryptionTip")),1)],64)):_("",!0)]),s.visibleForms.length>0||s.visibleDataset.length>0?(r(),i("table",Ne,[(r(!0),i(h,null,S(s.visibleForms,(b,F)=>(r(),g(d,{key:b.xmlFormId,form:b,project:o.project,"show-icon":F===0},null,8,["form","project","show-icon"]))),128)),s.showExpander?(r(),i("tr",Ve,[t[6]||(t[6]=a("td",{class:"col-icon"},null,-1)),a("td",He,[a("a",{href:"#",role:"button",class:"expand-button",onClick:t[0]||(t[0]=C((...b)=>s.toggleExpanded&&s.toggleExpanded(...b),["prevent"]))},[c.formExpanded?(r(),i(h,{key:1},[p(u(e.$tcn("showFewer",s.numForms)),1),t[5]||(t[5]=a("span",{class:"icon-angle-up"},null,-1))],64)):(r(),i(h,{key:0},[p(u(e.$tcn("showMore",s.numForms)),1),t[4]||(t[4]=a("span",{class:"icon-angle-down"},null,-1))],64))])])])):_("",!0),s.visibleForms.length>0&&s.visibleDataset.length>0?(r(),i("tr",Be,t[7]||(t[7]=[a("td",{class:"col-icon"},null,-1)]))):_("",!0),(r(!0),i(h,null,S(s.visibleDataset,(b,F)=>(r(),g(y,{key:b.name,dataset:b,project:o.project,"show-icon":F===0},null,8,["dataset","project","show-icon"]))),128)),s.showDatasetExpander?(r(),i("tr",Re,[t[11]||(t[11]=a("td",{class:"col-icon"},null,-1)),a("td",Ue,[a("a",{href:"#",role:"button",class:"expand-button",onClick:t[1]||(t[1]=C((...b)=>s.toggleDatasetExpanded&&s.toggleDatasetExpanded(...b),["prevent"]))},[c.datasetExpanded?(r(),i(h,{key:1},[p(u(e.$tcn("showFewerDatasets",s.numDatasets)),1),t[9]||(t[9]=a("span",{class:"icon-angle-up"},null,-1))],64)):(r(),i(h,{key:0},[p(u(e.$tcn("showMoreDatasets",s.numDatasets)),1),t[8]||(t[8]=a("span",{class:"icon-angle-down"},null,-1))],64))])]),s.hiddenConflicts>0?(r(),i("td",We,[a("a",{href:"#",role:"button",class:"btn btn-danger",onClick:t[2]||(t[2]=C((...b)=>s.toggleDatasetExpanded&&s.toggleDatasetExpanded(...b),["prevent"]))},[p(u(e.$tcn("entity.conflictsCount",s.hiddenConflicts)),1),t[10]||(t[10]=a("span",{class:"icon-warning"},null,-1))])])):_("",!0),s.hiddenConflicts>0?(r(),i("td",Ke,[a("span",null,u(e.$t("hidden")),1)])):_("",!0)])):_("",!0)])):_("",!0)])}typeof tt=="function"&&tt(V);typeof et=="function"&&et(V);const Ze=M(V,[["render",xe]]);function ot(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"Alphabetical"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"Newest"}}}}}})}function st(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"Abecedně"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"Nejnovější"}}}},de:{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"Alphabetisch"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"Neueste"}}}},es:{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"Alfabético"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"El mas nuevo"}}}},fr:{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"Alphabétique"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"Plus récent"}}}},id:{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"Urutan Abjad"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"Terbaru"}}}},it:{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"Alfabetico"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"Il più nuovo"}}}},pt:{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"Em ordem alfabética"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"Mais recentes"}}}},sw:{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"Kialfabeti"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"Mpya zaidi"}}}},"zh-Hant":{sortOptions:{alphabetical:{t:0,b:{t:2,i:[{t:3}],s:"按字母順序"}},newest:{t:0,b:{t:2,i:[{t:3}],s:"新專案優先"}}}}}})}const Ge={id:"project-sort"},Je={class:"form-group"},Xe={id:"project-sort-label"},Qe=["value"],Ye={value:"alphabetical"},to={value:"latest"},eo={value:"newest"},H=Object.assign({name:"ProjectSort"},{__name:"sort",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e){return(t,o)=>(r(),i("div",Ge,[a("form",{class:"form-inline",onSubmit:o[1]||(o[1]=C(()=>{},["prevent"]))},[a("label",Je,[a("span",Xe,u(t.$t("action.sort")),1),a("select",{value:e.modelValue,class:"form-control",onChange:o[0]||(o[0]=n=>t.$emit("update:modelValue",n.target.value))},[a("option",Ye,u(t.$t("sortOptions.alphabetical")),1),a("option",to,u(t.$t("header.recentActivity")),1),a("option",eo,u(t.$t("sortOptions.newest")),1)],40,Qe)])],32)]))}});typeof ot=="function"&&ot(H);typeof st=="function"&&st(H);function nt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{archived:{t:0,b:{t:2,i:[{t:3}],s:"Archived Projects"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"New"}}},emptyTable:{canCreate:{t:0,b:{t:2,i:[{t:3}],s:"To get started, create a Project. Projects help you organize your data by grouping related Forms and Users."}},cannotCreate:{t:0,b:{t:2,i:[{t:3}],s:"There are no Projects to show. If you expect to see Projects here, talk to the person who gave you this account. They may need to assign a Project Role for Projects you’re supposed to see."}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"Your new Project has been successfully created."}}}}}})}function at(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{archived:{t:0,b:{t:2,i:[{t:3}],s:"Archivované projekty"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"Nový"}}},emptyTable:{canCreate:{t:0,b:{t:2,i:[{t:3}],s:"Chcete-li začít, vytvořte projekt. Projekty vám pomohou uspořádat data seskupením souvisejících formulářů a uživatelů."}},cannotCreate:{t:0,b:{t:2,i:[{t:3}],s:"Neexistují žádné projekty, které by bylo možné zobrazit. Pokud očekáváte, že se zde Projekty zobrazí, obraťte se na osobu, která vám tento účet poskytla. Možná bude potřebovat přiřadit Projektovou roli pro Projekty, které byste měli vidět."}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"Váš nový projekt byl úspěšně vytvořen."}}}},de:{archived:{t:0,b:{t:2,i:[{t:3}],s:"Archivierte Projekte"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"Neu"}}},emptyTable:{canCreate:{t:0,b:{t:2,i:[{t:3}],s:"Erstellen Sie zunächst ein Projekt. Projekte helfen Ihnen, Ihre Daten zu organisieren, indem Sie verwandte Formulare und Benutzer gruppieren."}},cannotCreate:{t:0,b:{t:2,i:[{t:3}],s:"Es gibt keine anzuzeigenden Projekte. Wenn Sie erwarten, dass Projekte hier angezeigt werden, sprechen Sie mit der Person, die Ihnen dieses Konto gegeben hat. Sie müssen möglicherweise eine Projektrolle für Projekte zuweisen, die Sie sehen sollen."}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"Ihr neues Projekt wurde erfolgreich erstellt."}}}},es:{archived:{t:0,b:{t:2,i:[{t:3}],s:"Proyectos archivados"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"Nuevo"}}},emptyTable:{canCreate:{t:0,b:{t:2,i:[{t:3}],s:"Para comenzar, cree un Proyecto. Los proyectos lo ayudan a organizar sus datos agrupando formularios y usuarios relacionados."}},cannotCreate:{t:0,b:{t:2,i:[{t:3}],s:"No hay Proyectos para mostrar. Si espera ver Proyectos aquí, hable con la persona que le dio esta cuenta. Es posible que deban asignar un rol de proyecto para los proyectos que se supone que debe ver."}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"Su proyecto ha sido creado exitosamente"}}}},fr:{archived:{t:0,b:{t:2,i:[{t:3}],s:"Projets archivés"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"Nouveau"}}},emptyTable:{canCreate:{t:0,b:{t:2,i:[{t:3}],s:"Pour démarrer, créez un Projet. Les projets vous aident à organiser vos données en regroupant des formulaires et des utilisateurs qui sont liés"}},cannotCreate:{t:0,b:{t:2,i:[{t:3}],s:"Il n'y a pas de Projet à afficher. Si vous vous attendiez à en voir ici, contactez la personne qui vous a créé ce compte. Il pourrait devoir vous attribuer un rôle de projet pour les projets que vous êtes censé voir."}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"Votre nouveau projet a été créé avec succès."}}}},id:{archived:{t:0,b:{t:2,i:[{t:3}],s:"Proyek Terarsip"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"Baru"}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"Proyek baru Anda telah sukses dibuat."}}}},it:{archived:{t:0,b:{t:2,i:[{t:3}],s:"Progetti archiviati"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"Nuovo"}}},emptyTable:{canCreate:{t:0,b:{t:2,i:[{t:3}],s:"Per iniziare, crea un progetto. I progetti ti aiutano a organizzare i tuoi dati raggruppando i formulari e gli utenti correlati."}},cannotCreate:{t:0,b:{t:2,i:[{t:3}],s:"Non ci sono progetti da mostrare. Se prevedi di vedere Progetti qui, parla con la persona che ti ha fornito questo account. Potrebbe essere necessario assegnare un ruolo di progetto per i progetti che dovresti vedere."}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"Il tuo nuovo progetto è stato creato con successo."}}}},ja:{action:{create:{t:0,b:{t:2,i:[{t:3}],s:"新規作成"}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"新規プロジェクトは正しく作成されました。"}}}},pt:{archived:{t:0,b:{t:2,i:[{t:3}],s:"Projetos arquivados"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"Novo"}}},emptyTable:{canCreate:{t:0,b:{t:2,i:[{t:3}],s:"Para começar, crie um Projeto. Os Projetos ajudam você a organizar seus dados agrupando Formulários e Usuários relacionados."}},cannotCreate:{t:0,b:{t:2,i:[{t:3}],s:"Não há Projetos para mostrar. Se você espera ver Projetos aqui, fale com a pessoa que lhe deu esta conta. Ela pode precisar atribuir uma Função de Projeto nos Projetos que você deve ver."}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"O seu novo projeto foi criado com sucesso."}}}},sw:{archived:{t:0,b:{t:2,i:[{t:3}],s:"Miradi Iliyohifadhiwa"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"Mpya"}}},emptyTable:{canCreate:{t:0,b:{t:2,i:[{t:3}],s:"Ili kuanza, tengeneza Mradi. Miradi hukusaidia kupanga data yako kwa kupanga Fomu na Watumiaji husika."}},cannotCreate:{t:0,b:{t:2,i:[{t:3}],s:"Hakuna Miradi ya kuonyesha. Ikiwa unatarajia kuona Miradi hapa, zungumza na mtu aliyekupa akaunti hii. Huenda wakahitaji kupeana Jukumu la Mradi kwa Miradi unayopaswa kuona."}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"Mradi wako mpya umeundwa."}}}},"zh-Hant":{archived:{t:0,b:{t:2,i:[{t:3}],s:"已歸檔專案"}},action:{create:{t:0,b:{t:2,i:[{t:3}],s:"新訊息"}}},emptyTable:{canCreate:{t:0,b:{t:2,i:[{t:3}],s:"首先，創建一個專案。專案可透過對相關表單和使用者分組來幫助您組織資料。"}},cannotCreate:{t:0,b:{t:2,i:[{t:3}],s:"沒有可顯示的專案。如果您希望在此處看到專案，請與向您提供此帳戶的人員聯絡。他們可能需要為您應該看到的專案分配專案角色。"}}},alert:{create:{t:0,b:{t:2,i:[{t:3}],s:"您的新專案已成功建立。"}}}}}})}const B={name:"ProjectList",components:{DocLink:dt,Loading:St,PageSection:qt,ProjectNew:be,ProjectHomeBlock:Ze,ProjectSort:H,SentenceSeparator:Bt},inject:["alert"],setup(){const{currentUser:e,projects:t}=D(),o=O({get(){return e.preferences?.site?.projectSortMode},set(d){e.preferences.site.projectSortMode=d}}),n=O(()=>Rt[o.value]),c=mt(null);W(()=>{c.value=t.dataExists?t.filter(d=>!d.archived):[]}),W(()=>{c.value.sort(n.value)});const s=Ut(c),{projectPath:l}=z();return{currentUser:e,projects:t,sortMode:o,sortFunction:n,activeProjects:c,chunkyProjects:s,createModal:Dt(),projectPath:l}},computed:{archivedProjects(){return this.projects.dataExists?this.projects.filter(t=>t.archived).sort(this.sortFunction):[]},maxForms(){let e=2,t;const o=this.projects.map(c=>c.formList.filter(s=>s.state!=="closed").length),n=G(o);do e+=1,t=U(o,e);while(t<15&&t<n);return t>15&&e>3?e-1:e},maxDatasets(){let e=2,t;const o=this.projects.map(c=>c.datasetList.length),n=G(o);do e+=1,t=U(o,e);while(t<15&&t<n);return t>15&&e>3?e-1:e}},methods:{afterCreate(e){const t=this.$t("alert.create");this.$router.push(this.projectPath(e.id)).then(()=>{this.alert.success(t)})}}},oo={id:"project-list"},so={key:0},no={key:1,class:"empty-table-message"},ao={id:"project-list-archived"},ro={class:"project-title"};function io(e,t,o,n,c,s){const l=v("project-sort"),d=v("project-home-block"),y=v("loading"),k=v("sentence-separator"),b=v("page-section"),F=v("router-link"),gt=v("project-new");return r(),i("div",oo,[f(b,null,{heading:m(()=>[a("span",null,u(e.$t("resource.projects")),1),n.currentUser.can("project.create")?(r(),i("button",{key:0,id:"project-list-new-button",type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=j=>n.createModal.show())},[t[3]||(t[3]=a("span",{class:"icon-plus-circle"},null,-1)),p(u(e.$t("action.create"))+"… ",1)])):_("",!0),f(l,{modelValue:n.sortMode,"onUpdate:modelValue":t[1]||(t[1]=j=>n.sortMode=j)},null,8,["modelValue"])]),body:m(()=>[n.projects.dataExists?(r(),i("div",so,[(r(!0),i(h,null,S(n.chunkyProjects,j=>(r(),g(d,{key:j.id,project:j,"sort-func":n.sortFunction,"max-forms":s.maxForms,"max-datasets":s.maxDatasets},null,8,["project","sort-func","max-forms","max-datasets"]))),128))])):_("",!0),f(y,{state:n.projects.initiallyLoading},null,8,["state"]),n.projects.dataExists&&n.activeProjects.length===0?(r(),i("p",no,[n.currentUser.can("project.create")?(r(),i(h,{key:0},[p(u(e.$t("emptyTable.canCreate")),1),f(k)],64)):(r(),i(h,{key:1},[p(u(e.$t("emptyTable.cannotCreate")),1)],64))])):_("",!0)]),_:1}),s.archivedProjects.length>0?(r(),g(b,{key:0},{heading:m(()=>[a("span",null,u(e.$t("archived")),1)]),body:m(()=>[a("div",ao,[(r(!0),i(h,null,S(s.archivedProjects,j=>(r(),i("div",{key:j.id},[a("div",ro,[f(F,{to:n.projectPath(j.id)},{default:m(()=>[p(u(j.name),1)]),_:2},1032,["to"])])]))),128))])]),_:1})):_("",!0),f(gt,Mt(n.createModal,{onHide:t[2]||(t[2]=j=>n.createModal.hide()),onSuccess:s.afterCreate}),null,16,["onSuccess"])])}typeof nt=="function"&&nt(B);typeof at=="function"&&at(B);const uo=M(B,[["render",io]]),yt="/assets/banner@1x-BSX3VfHa.png",co="/assets/banner@2x-D0mjEJUM.png";function rt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{title:{t:0,b:{t:2,i:[{t:3}],s:"Form drafts have moved"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Create a new Form and edit it on the new Edit Form tab"}},action:{gotIt:{t:0,b:{t:2,i:[{t:3}],s:"Got it!"}}}}}})}function it(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{de:{title:{t:0,b:{t:2,i:[{t:3}],s:"Formularentwürfe wurden verschoben"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Erstellen Sie ein neues Formular und bearbeiten Sie es auf der neuen Registerkarte Formular bearbeiten"}},action:{gotIt:{t:0,b:{t:2,i:[{t:3}],s:"Ich hab's!"}}}},es:{title:{t:0,b:{t:2,i:[{t:3}],s:"Los borradores de formularios se han trasladado"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Cree un nuevo formulario y edítelo en la nueva pestaña Editar formulario"}},action:{gotIt:{t:0,b:{t:2,i:[{t:3}],s:"¡Ya está!"}}}},fr:{title:{t:0,b:{t:2,i:[{t:3}],s:"Les ébauches de Formulaires ont été déplacées."}},body:{t:0,b:{t:2,i:[{t:3}],s:"Créez un nouveau Formulaire et éditez le dans le nouvel onglet «Éditer le Formulaire»"}},action:{gotIt:{t:0,b:{t:2,i:[{t:3}],s:"J'ai compris !"}}}},it:{title:{t:0,b:{t:2,i:[{t:3}],s:"Le bozze dei formulari sono state spostate"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Creare un nuovo formulario e modificarlo nella nuova scheda Modifica del formulario."}},action:{gotIt:{t:0,b:{t:2,i:[{t:3}],s:"Capito!"}}}},pt:{action:{gotIt:{t:0,b:{t:2,i:[{t:3}],s:"Entendi!"}}}},"zh-Hant":{title:{t:0,b:{t:2,i:[{t:3}],s:"表單草稿已移動"}},body:{t:0,b:{t:2,i:[{t:3}],s:"建立新表單，並在新的「編輯表單」標籤上編輯它"}},action:{gotIt:{t:0,b:{t:2,i:[{t:3}],s:"知道了！"}}}}}})}const lo=yt+", "+co+" 2x",mo={class:"modal-introduction"},po={class:"modal-actions"},R=Object.assign({name:"WhatsNew"},{__name:"whats-new",setup(e){const{openModal:t}=pt("container"),{currentUser:o,projects:n}=D(),c=mt(!1);Et(()=>n.dataExists,()=>{(o.can("form.update")||n.data.some(d=>d.verbs.has("form.update")))&&new Date(o.data.createdAt)<new Date("2025-05-06")&&!t.state&&!o.preferences.site.whatsNewDismissed2025_1&&(c.value=!0)});function s(){o.preferences.site.whatsNewDismissed2025_1=!0,c.value=!1}return(l,d)=>(r(),g(bt,{state:c.value,backdrop:"",hideable:!0,onHide:s},{banner:m(()=>d[0]||(d[0]=[a("img",{srcset:lo,src:yt,alt:"Modal banner image showing Create a New Draft button with arrow pointing to Edit Form tab."},null,-1)])),title:m(()=>[p(u(l.$t("title")),1)]),body:m(()=>[a("p",mo,u(l.$t("body")),1),a("div",po,[a("button",{type:"button",class:"btn btn-primary",onClick:s},u(l.$t("action.gotIt")),1)])]),_:1},8,["state"]))}});typeof rt=="function"&&rt(R);typeof it=="function"&&it(R);const bo=()=>{const{createResource:e}=D();return e("projects",t=>({transformResponse:({data:o})=>{for(const n of o){for(const c of n.formList)zt(c);n.verbs=new Set(n.verbs),n.permits=Lt}return o},duplicateFormNamesPerProject:$t(()=>{const o={};for(const n of t){const c=new Set;o[n.id]=new Set;for(const s of n.formList){const l=s.nameOrId.toLocaleLowerCase();c.has(l)&&o[n.id].add(l),c.add(l)}}return o})}))};function ut(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Welcome to Central."}}]}}})}function ct(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Vítejte v Centralu."}}]},de:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Willkommen bei Central"}}]},es:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Bienvenido a Central."}}]},fr:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Bienvenue sur Central"}}]},id:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Selamat datang di Central."}}]},it:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Benvenuto su Central"}}]},pt:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Bem-vindo ao Central."}}]},sw:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Karibu Central"}}]},"zh-Hant":{heading:[{t:0,b:{t:2,i:[{t:3}],s:"歡迎來到 Central."}}]}}})}const ho={id:"home-news-container"},kt=Object.assign({name:"Home"},{__name:"home",setup(e){const t=It(Ot("HomeConfigSection"));bo().request({url:"/v1/projects?forms=true&datasets=true"}).catch(T);const n=pt("config");return(c,s)=>(r(),i("div",null,[f(A),f(Tt,null,{default:m(()=>[a("div",ho,[w(n).home.title!=null?(r(),g(w(t),{key:0,title:w(n).home.title,body:w(n).home.body},null,8,["title","body"])):_("",!0)]),f(uo)]),_:1}),f(R)]))}});typeof ut=="function"&&ut(kt);typeof ct=="function"&&ct(kt);export{kt as default};
