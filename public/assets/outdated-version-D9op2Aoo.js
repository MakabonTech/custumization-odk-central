import{u as V,G as u,H as o,l as D,c as n,p as z,o as a,d as k,q as l,f as d,t as p}from"./index-BJJ6YbMy.js";function b(s){const t=s;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{title:{t:0,b:{t:2,i:[{t:3}],s:"Outdated Version"}},instructionsToUpgrade:{t:0,b:{t:2,i:[{t:3}],s:"Instructions to upgrade"}},instructionsToUpgradeTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Click here to see instructions to upgrade Central"}},dismiss:{t:0,b:{t:2,i:[{t:3}],s:"Dismiss for 30 days"}},dismissTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Click here to dismiss this warning for 30 days."}}}}})}function g(s){const t=s;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{de:{title:{t:0,b:{t:2,i:[{t:3}],s:"Veraltete Version"}},instructionsToUpgrade:{t:0,b:{t:2,i:[{t:3}],s:"Anweisungen zum Upgrade"}},instructionsToUpgradeTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Klicken Sie hier für eine Anleitung zum Upgrade von Central"}},dismiss:{t:0,b:{t:2,i:[{t:3}],s:"Entlassung für 30 Tage"}},dismissTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Klicken Sie hier, um diese Warnung für 30 Tage aufzuheben."}}},es:{title:{t:0,b:{t:2,i:[{t:3}],s:"Versión obsoleta"}},instructionsToUpgrade:{t:0,b:{t:2,i:[{t:3}],s:"Instrucciones para actualizar"}},instructionsToUpgradeTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Haga clic aquí para ver las instrucciones de actualización de Central"}},dismiss:{t:0,b:{t:2,i:[{t:3}],s:"Despido durante 30 días"}},dismissTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Haga clic aquí para desactivar esta advertencia durante 30 días."}}},fr:{title:{t:0,b:{t:2,i:[{t:3}],s:"Version ancienne"}},instructionsToUpgrade:{t:0,b:{t:2,i:[{t:3}],s:"Instructions de mise à jour"}},instructionsToUpgradeTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Cliquez ici pour voir les instructions pour mettre Central à jour"}},dismiss:{t:0,b:{t:2,i:[{t:3}],s:"Cacher pour 30 jours"}},dismissTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Cliquez ici pour cacher cette alerte pour 30 jours."}}},it:{title:{t:0,b:{t:2,i:[{t:3}],s:"Versione obsoleta"}},instructionsToUpgrade:{t:0,b:{t:2,i:[{t:3}],s:"Istruzioni per l'aggiornamento"}},instructionsToUpgradeTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Fare clic qui per visualizzare le istruzioni per l'aggiornamento di Central"}},dismiss:{t:0,b:{t:2,i:[{t:3}],s:"Sospendere per 30 giorni"}},dismissTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Fate clic qui per disattivare questo avviso per 30 giorni."}}},pt:{title:{t:0,b:{t:2,i:[{t:3}],s:"Versão ultrapassada"}},instructionsToUpgrade:{t:0,b:{t:2,i:[{t:3}],s:"Instruções para atualizar"}},instructionsToUpgradeTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Clique aqui para ver as instruções para atualizar o Central"}},dismiss:{t:0,b:{t:2,i:[{t:3}],s:"Ignorar por 30 dias"}},dismissTooltip:{t:0,b:{t:2,i:[{t:3}],s:"Clique aqui para ignorar este aviso por 30 dias."}}},"zh-Hant":{title:{t:0,b:{t:2,i:[{t:3}],s:"過時的版本"}},instructionsToUpgrade:{t:0,b:{t:2,i:[{t:3}],s:"升級說明"}},instructionsToUpgradeTooltip:{t:0,b:{t:2,i:[{t:3}],s:"按此處查看升級 Central 的說明"}},dismiss:{t:0,b:{t:2,i:[{t:3}],s:"忽略 30 天"}},dismissTooltip:{t:0,b:{t:2,i:[{t:3}],s:"按此處忽略此警告 30 天。"}}}}})}const q={key:0,class:"outdated-version-banner"},y=["src","title"],I={class:"btn btn-primary",href:"https://docs.getodk.org/central-upgrade/",target:"_blank"},m=Object.assign({name:"OutdatedVersion"},{__name:"outdated-version",setup(s){const{centralVersion:t,currentUser:e}=V(),T=u("visiblyLoggedIn"),f=u("container"),{i18n:v}=f,_=o(()=>v.locale),h=o(()=>`https://getodk.github.io/central/outdated-version.html?version=${t.currentVersion}&lang=${_.value}`),U=o(()=>{if(!e.dataExists||!T||!e.can("config.set")||!t.dataExists)return!1;const i=e.preferences?.site?.outdatedVersionWarningDismissDate;if(i&&t.currentDate.getTime()<new Date(i).getTime()+864e5*30)return!1;const c=Number(t.currentVersion.match(/^(\d{4})/)[1]);return!(t.currentDate.getFullYear()-c<2)}),C=()=>{e.preferences.site.outdatedVersionWarningDismissDate=t.currentDate};return(i,c)=>{const r=D("tooltip");return U.value?(a(),n("div",q,[k("iframe",{src:h.value,title:i.$t("title")},null,8,y),l((a(),n("a",I,[d(p(i.$t("instructionsToUpgrade")),1)])),[[r,i.$t("instructionsToUpgradeTooltip"),void 0,{"aria-describedby":!0}]]),l((a(),n("button",{class:"btn btn-danger",type:"button",onClick:C},[d(p(i.$t("dismiss")),1)])),[[r,i.$t("dismissTooltip"),void 0,{"aria-describedby":!0}]])])):z("",!0)}}});typeof b=="function"&&b(m);typeof g=="function"&&g(m);export{m as default};
