import{_ as h,a as f,b as v,r as c,c as k,o as w,d as s,t as u,w as g,e as d,f as y,n as $}from"./index-BJJ6YbMy.js";import{u as q}from"./request--gXHIWga.js";function p(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"Set password"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" The link in your email may have expired, and a new email may have to be sent."}]}}},alert:{success:{t:0,b:{t:2,i:[{t:3}],s:"Password successfully reset."}}}}}})}function m(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{cs:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"Nastavit heslo"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" Platnost odkazu ve vašem e-mailu pravděpodobně skončila a možná bude nutné zaslat nový e-mail."}]}}}},de:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"Passwort festlegen"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" Der Hyperlink in Ihrer E-Mail könnte abgelaufen sein und vielleicht sollte eine neue E-Mail gesendet werden."}]}}}},es:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"Establecer contraseña"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" Es posible que el enlace de su correo electrónico haya expirado y tenga que enviarse un nuevo correo electrónico."}]}}},alert:{success:{t:0,b:{t:2,i:[{t:3}],s:"Contraseña restablecida correctamente."}}}},fr:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"Définir le mot de passe"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" Le lien présent dans votre courriel a probablement expiré, et un nouveau courriel a dû vous être envoyé."}]}}},alert:{success:{t:0,b:{t:2,i:[{t:3}],s:"Le mot de passe a été réinitialisé."}}}},id:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"Atur kata sandi"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" Tautan menuju email Anda sudah kedaluwarsa, Anda harus mengirimkan email baru."}]}}}},it:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"Configurare la password"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" Il link nella tua e-mail potrebbe essere scaduto e potrebbe essere necessario inviare una nuova e-mail."}]}}},alert:{success:{t:0,b:{t:2,i:[{t:3}],s:"Password ristabilita con successo."}}}},ja:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"パスワードの設定"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" メールに記載されているリンクの有効期限が切れている可能性があり、新たにメールを送信する必要があるようです。"}]}}}},pt:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"Definir senha"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" O link de seu email expirou e um novo link precisa ser enviado."}]}}}},sw:{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"Weka nenosiri"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" Huenda muda wa kiungo katika barua pepe yako umeisha, na huenda barua pepe mpya ikatumwa."}]}}}},"zh-Hant":{action:{set:{t:0,b:{t:2,i:[{t:3}],s:"設定密碼"}}},problem:{"401_2":{t:0,b:{t:2,i:[{t:4,k:"message"},{t:3,v:" 您電子郵件中的連結可能已過期，可能需要發送新電子郵件。"}]}}},alert:{success:{t:0,b:{t:2,i:[{t:3}],s:"密碼重設成功。"}}}}}})}const n={name:"AccountClaim",components:{FormGroup:v,Spinner:f},inject:["alert"],setup(){const{request:t,awaitingResponse:e}=q();return{request:t,awaitingResponse:e}},data(){return{password:""}},mounted(){this.$refs.password.focus()},methods:{submit(){if(this.password.length<10){this.alert.danger(this.$t("alert.passwordTooShort"));return}const t={},{token:e}=this.$route.query;typeof e=="string"&&(t.Authorization=`Bearer ${e}`),this.request({method:"POST",url:"/v1/users/reset/verify",headers:t,data:{new:this.password},problemToAlert:a=>a.code===401.2?this.$t("problem.401_2",a):null}).then(()=>{const a=this.$t("alert.success");return this.$router.push("/login").then(()=>{this.alert.success(a)})}).catch($)}}},P={id:"account-claim",class:"row"},x={class:"col-xs-12 col-sm-offset-3 col-sm-6"},A={class:"panel panel-default panel-main"},C={class:"panel-heading"},S={class:"panel-title"},T={class:"panel-body"},V={class:"panel-footer"},E=["aria-disabled"];function z(t,e,a,i,r,l){const b=c("form-group"),_=c("spinner");return w(),k("div",P,[s("div",x,[s("div",A,[s("div",C,[s("h1",S,u(t.$t("title.setPassword")),1)]),s("div",T,[s("form",{onSubmit:e[1]||(e[1]=g((...o)=>l.submit&&l.submit(...o),["prevent"]))},[d(b,{ref:"password",modelValue:r.password,"onUpdate:modelValue":e[0]||(e[0]=o=>r.password=o),type:"password",placeholder:t.$t("field.newPassword"),required:"",autocomplete:"new-password"},null,8,["modelValue","placeholder"]),s("div",V,[s("button",{type:"submit",class:"btn btn-primary","aria-disabled":i.awaitingResponse},[y(u(t.$t("action.set"))+" ",1),d(_,{state:i.awaitingResponse},null,8,["state"])],8,E)])],32)])])])])}typeof p=="function"&&p(n);typeof m=="function"&&m(n);const N=h(n,[["render",z]]);export{N as default};
