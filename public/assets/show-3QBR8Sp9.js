import{_ as A}from"./breadcrumbs-SpsHxTta.js";import{_ as L}from"./link-CVIq4c0k.js";import{_ as V}from"./infonav-l5ienlGM.js";import{_ as q,Q as R,L as S,r,c,o as a,g as _,p as l,q as j,e as s,C as P,i,d as p,k as g,f as u,t as d,F as U,j as N,D as w,n as z,u as M,z as T}from"./index-BJJ6YbMy.js";import{_ as H}from"./head-DeISpnNl.js";import{u as Z}from"./tabs-BBTLywO7.js";import"./linkable-ByHyCO2J.js";import"./link-if-can-B5zC8OjL.js";import"./hover-card-hXE3Fll1.js";function D(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{back:{t:0,b:{t:2,i:[{t:3}],s:"Back to Project Entities"}},infoNav:{connectedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Updated by "},{t:4,k:"count"},{t:3,v:" Form"}]},{t:2,i:[{t:3,v:"Updated by "},{t:4,k:"count"},{t:3,v:" Forms"}]}]}},linkedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Used in "},{t:4,k:"count"},{t:3,v:" Form"}]},{t:2,i:[{t:3,v:"Used in "},{t:4,k:"count"},{t:3,v:" Forms"}]}]}}}}}})}function E(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{cs:{back:{t:0,b:{t:2,i:[{t:3}],s:"Zpět na projektové entity"}}},de:{back:{t:0,b:{t:2,i:[{t:3}],s:"Zurück zu den Projekteinheiten"}},infoNav:{connectedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Update durch "},{t:4,k:"count"},{t:3,v:" Formular"}]},{t:2,i:[{t:3,v:"Update durch "},{t:4,k:"count"},{t:3,v:" Formulare"}]}]}},linkedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Verwendet in "},{t:4,k:"count"},{t:3,v:" Formular"}]},{t:2,i:[{t:3,v:"Verwendet in "},{t:4,k:"count"},{t:3,v:" Formulare"}]}]}}}},es:{back:{t:0,b:{t:2,i:[{t:3}],s:"Back to Project Entities"}},infoNav:{connectedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Actualizar por "},{t:4,k:"count"},{t:3,v:" formulario"}]},{t:2,i:[{t:3,v:"Actualizar por "},{t:4,k:"count"},{t:3,v:" formularios"}]},{t:2,i:[{t:3,v:"Actualizar por "},{t:4,k:"count"},{t:3,v:" formularios"}]}]}},linkedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Utilizado en "},{t:4,k:"count"},{t:3,v:" formulario"}]},{t:2,i:[{t:3,v:"Utilizado en "},{t:4,k:"count"},{t:3,v:" formularios"}]},{t:2,i:[{t:3,v:"Utilizado en "},{t:4,k:"count"},{t:3,v:" formularios"}]}]}}}},fr:{back:{t:0,b:{t:2,i:[{t:3}],s:"Retour aux entités du projet"}},infoNav:{connectedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Mise à jour par "},{t:4,k:"count"},{t:3,v:" Formulaire"}]},{t:2,i:[{t:3,v:"Mise à jour par "},{t:4,k:"count"},{t:3,v:" Formulaires"}]},{t:2,i:[{t:3,v:"Mise à jour par "},{t:4,k:"count"},{t:3,v:" Formulaire(s)"}]}]}},linkedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Utilisée dans "},{t:4,k:"count"},{t:3,v:" Formulaire"}]},{t:2,i:[{t:3,v:"Utilisée dans "},{t:4,k:"count"},{t:3,v:" Formulaires"}]},{t:2,i:[{t:3,v:"Utilisée dans "},{t:4,k:"count"},{t:3,v:" Formulaire(s)"}]}]}}}},it:{back:{t:0,b:{t:2,i:[{t:3}],s:"Torna alle Entità del progetto"}},infoNav:{connectedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Aggiornato da "},{t:4,k:"count"},{t:3,v:" Formulario"}]},{t:2,i:[{t:3,v:"Aggiornato da "},{t:4,k:"count"},{t:3,v:" Formulari"}]},{t:2,i:[{t:3,v:"Aggiornato da "},{t:4,k:"count"},{t:3,v:" Formulari"}]}]}},linkedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Usato da "},{t:4,k:"count"},{t:3,v:" Formulario"}]},{t:2,i:[{t:3,v:"Usato da "},{t:4,k:"count"},{t:3,v:" Formulari"}]},{t:2,i:[{t:3,v:"Usato da "},{t:4,k:"count"},{t:3,v:" Formulari"}]}]}}}},pt:{back:{t:0,b:{t:2,i:[{t:3}],s:"Voltar para Entidades do Projeto"}},infoNav:{linkedForms:{t:0,b:{t:1,c:[{t:2,i:[{t:3,v:"Utilizado em "},{t:4,k:"count"},{t:3,v:" Formulário"}]},{t:2,i:[{t:3,v:"Utilizado em "},{t:4,k:"count"},{t:3,v:" Formulários"}]},{t:2,i:[{t:3,v:"Utilizado em "},{t:4,k:"count"},{t:3,v:" Formulários"}]}]}}}},sw:{back:{t:0,b:{t:2,i:[{t:3}],s:"Rudi kwenye vyombo vya Mradi"}}},"zh-Hant":{back:{t:0,b:{t:2,i:[{t:3}],s:"返回專案實體"}},infoNav:{connectedForms:{t:0,b:{t:2,i:[{t:3,v:"由"},{t:4,k:"count"},{t:3,v:"個表格更新"}]}},linkedForms:{t:0,b:{t:2,i:[{t:3,v:"用於"},{t:4,k:"count"},{t:3,v:"個表格"}]}}}}}})}const y={name:"DatasetShow",components:{Breadcrumbs:A,FormLink:L,Infonav:V,Loading:S,PageBody:R,PageHead:H},props:{projectId:{type:String,required:!0},datasetName:{type:String,required:!0}},setup(){const{project:o,dataset:e,resourceStates:b}=M(),{projectPath:t,datasetPath:h,canRoute:m,publishedFormPath:f}=T(),{tabPath:v,tabClass:k}=Z(h());return{project:o,dataset:e,...b([o,e]),datasetPath:h,projectPath:t,tabPath:v,tabClass:k,canRoute:m,publishedFormPath:f}},computed:{breadcrumbLinks(){return[{text:this.project.nameWithArchived,path:this.projectPath("entity-lists"),icon:"icon-archive"},{text:this.datasetName,path:this.datasetPath(),icon:"icon-database"}]}},created(){this.fetchData()},methods:{fetchProject(o){this.project.request({url:w.project(this.projectId),extended:!0,resend:o}).catch(z)},fetchDataset(o){this.dataset.request({url:w.dataset(this.projectId,this.datasetName),extended:!0,resend:o}).catch(z)},fetchData(){this.fetchProject(!1),this.fetchDataset(!1)}}},Q={id:"dataset-show"},W={key:0,class:"badge"},G={key:0,class:"badge"};function J(o,e,b,t,h,m){const f=r("breadcrumbs"),v=r("form-link"),k=r("infonav"),F=r("router-link"),C=r("page-head"),x=r("loading"),I=r("router-view"),B=r("page-body");return a(),c("div",Q,[o.dataExists?(a(),_(f,{key:0,links:m.breadcrumbLinks},null,8,["links"])):l("",!0),j(s(C,null,{title:i(()=>[u(d(b.datasetName),1)]),infonav:i(()=>[t.dataset.dataExists&&t.dataset.sourceForms.length>0?(a(),_(k,{key:0},{title:i(()=>[e[0]||(e[0]=p("span",{class:"icon-magic-wand"},null,-1)),u(d(o.$tc("infoNav.connectedForms",t.dataset.sourceForms.length)),1)]),dropdown:i(()=>[(a(!0),c(U,null,N(t.dataset.sourceForms,n=>(a(),c("li",{key:n.xmlFormId},[s(v,{form:n,to:t.publishedFormPath(n.projectId,n.xmlFormId)},null,8,["form","to"])]))),128))]),_:1})):l("",!0),t.dataset.dataExists&&t.dataset.linkedForms.length>0?(a(),_(k,{key:1},{title:i(()=>[e[1]||(e[1]=p("span",{class:"icon-chain"},null,-1)),u(d(o.$tc("infoNav.linkedForms",t.dataset.linkedForms.length)),1)]),dropdown:i(()=>[(a(!0),c(U,null,N(t.dataset.linkedForms,n=>(a(),c("li",{key:n.xmlFormId},[s(v,{form:n,to:t.publishedFormPath(n.projectId,n.xmlFormId)},null,8,["form","to"])]))),128))]),_:1})):l("",!0)]),tabs:i(()=>[p("li",{class:g(t.tabClass("entities")),role:"presentation"},[s(F,{to:t.tabPath("entities")},{default:i(()=>[u(d(o.$t("resource.entities"))+" ",1),t.dataset.dataExists?(a(),c("span",W,d(o.$n(t.dataset.entities,"default")),1)):l("",!0)]),_:1},8,["to"])],2),p("li",{class:g(t.tabClass("properties")),role:"presentation"},[s(F,{to:t.tabPath("properties")},{default:i(()=>[u(d(o.$t("resource.properties"))+" ",1),t.dataset.dataExists?(a(),c("span",G,d(o.$n(t.dataset.properties.length,"default")),1)):l("",!0)]),_:1},8,["to"])],2),t.canRoute(t.tabPath("settings"))?(a(),c("li",{key:0,class:g(t.tabClass("settings")),role:"presentation"},[s(F,{to:t.tabPath("settings")},{default:i(()=>[u(d(o.$t("common.tab.settings")),1)]),_:1},8,["to"])],2)):l("",!0)]),_:1},512),[[P,o.dataExists]]),s(B,null,{default:i(()=>[s(x,{state:o.initiallyLoading},null,8,["state"]),j(s(I,{onFetchDataset:m.fetchDataset},null,8,["onFetchDataset"]),[[P,o.dataExists]])]),_:1})])}typeof D=="function"&&D(y);typeof E=="function"&&E(y);const it=q(y,[["render",J]]);export{it as default};
