import{D as i}from"./datetime-3JD3bssD.js";import{_ as m,l as d,q as h,c as l,o as c,f as p,t as u}from"./index-BJJ6YbMy.js";const y=(t,s=void 0)=>{if(!t.isValid)return t.toString();if(s==="recent"){const e=i.local();if(e.hasSame(t,"day")||e.minus({days:1}).hasSame(t,"day"))return t.toRelativeCalendar({unit:"days",base:e});for(let o=2;o<=5;o+=1)if(e.minus({days:o}).hasSame(t,"day"))return t.weekdayLong}return t.toFormat("y/MM/dd")},_=(t,s=!0)=>t.isValid?t.toFormat(s?"HH:mm:ss":"HH:mm"):t.toString(),D=new Map().set("seconds",60).set("minutes",120).set("hours",48).set("days",45).set("weeks",8).set("months",36),f=(t,s=void 0)=>{if(!t.isValid)return t.toString();if(s==="past"){const n=i.local();if(t>=n)return f(t);for(const[r,a]of D.entries())if(t>=n.minus({[r]:a}))return t.toRelative({unit:r,style:"narrow",base:n});return t.toRelative({unit:"years",style:"narrow",base:n})}const e=y(t,s),o=_(t,s==null);return`${e} ${o}`},b=(t,s)=>{const e=t&&new Date(t)||null,o=s&&new Date(s)||null;return e>o?e:o},S={name:"DateTime",props:{iso:String,relative:{type:String,default:"recent"},blank:{type:String,default:""},tooltip:{type:Boolean,default:!0}},computed:{dateTime(){return i.fromISO(this.iso,{locale:this.$i18n.locale})},tooltipText(){return this.tooltip?this.format(!1):null}},methods:{format(t){return f(this.dateTime,t?this.relative:null)}}},w=["datetime"],g={key:1};function k(t,s,e,o,n,r){const a=d("tooltip");return e.iso!=null?h((c(),l("time",{key:0,datetime:e.iso},[p(u(r.format(!0)),1)],8,w)),[[a,r.tooltipText,void 0,{"no-aria":!0}]]):(c(),l("span",g,u(e.blank),1))}const B=m(S,[["render",k]]);export{B as D,_ as a,y as b,f,b as m};
