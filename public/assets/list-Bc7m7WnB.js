import{E as g}from"./preview-CdLuzLgj.js";import{F as P}from"./def-dropdown-k9HoffXv.js";import{F as X}from"./string-BTvN1Cbp.js";import{_ as x}from"./time-and-user-BM4utSu7.js";import{c as r,o,d as i,p as c,e as l,t as u,g as $,u as y,h,F as C,j,_ as B,L as q,$ as I,r as d,v as L,D as z,n as A,P as E,a1 as S}from"./index-BJJ6YbMy.js";import"./date-time-CEONMtaY.js";import"./datetime-3JD3bssD.js";import"./link-if-can-B5zC8OjL.js";function _(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{current:{t:0,b:{t:2,i:[{t:3}],s:"Current Published Version"}}}}})}function v(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{de:{current:{t:0,b:{t:2,i:[{t:3}],s:"Aktuell veröffentlichte Version"}}},es:{current:{t:0,b:{t:2,i:[{t:3}],s:"Versión actualmente publicada"}}},fr:{current:{t:0,b:{t:2,i:[{t:3}],s:"Version actuellement publiée"}}},it:{current:{t:0,b:{t:2,i:[{t:3}],s:"Versione corrente pubblicata"}}},pt:{current:{t:0,b:{t:2,i:[{t:3}],s:"Versão publicada atualmente"}}},"zh-Hant":{current:{t:0,b:{t:2,i:[{t:3}],s:"當前已發布版本"}}}}})}const H={class:"form-version-row"},N={class:"version"},O={key:0},R={class:"chip"},m=Object.assign({name:"FormVersionRow"},{__name:"row",props:{version:{type:Object,required:!0},current:Boolean},emits:["view-xml"],setup(t){return(e,n)=>(o(),r("tr",H,[i("td",N,[i("div",null,[i("div",null,[l(X,{version:t.version.version},null,8,["version"])]),t.current?(o(),r("div",O,[i("span",R,u(e.$t("current")),1)])):c("",!0)])]),i("td",null,[l(x,{iso:t.version.publishedAt,user:t.version.publishedBy},null,8,["iso","user"])]),i("td",null,[t.current?(o(),$(g,{key:0,"form-version":t.version},null,8,["form-version"])):c("",!0),l(P,{version:t.version,onViewXml:n[0]||(n[0]=a=>e.$emit("view-xml"))},null,8,["version"])])]))}});typeof _=="function"&&_(m);typeof v=="function"&&v(m);function V(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"Published"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"Definition"}}}}}})}function w(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{cs:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"Publikováno"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"Definice"}}}},de:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"Veröffentlicht"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"Definition"}}}},es:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"Publicado"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"Definición"}}}},fr:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"Publié"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"Définition"}}}},id:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"Diterbitkan"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"Definisi"}}}},it:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"Pubblicato"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"Definizione"}}}},ja:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"公開済み"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"定義フォーム"}}}},pt:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"Publicado"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"Definição"}}}},sw:{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"Imechapishwa"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"Ufafanuzi"}}}},"zh-Hant":{header:{published:{t:0,b:{t:2,i:[{t:3}],s:"已發布"}},definition:{t:0,b:{t:2,i:[{t:3}],s:"定義"}}}}}})}const T={id:"form-version-table",class:"table"},U={key:0},f=Object.assign({name:"FormVersionTable"},{__name:"table",emits:["view-xml"],setup(t){const{formVersions:e}=y();return(n,a)=>(o(),r("table",T,[i("thead",null,[i("tr",null,[i("th",null,u(n.$t("header.name")),1),i("th",null,u(n.$t("header.published")),1),i("th",null,u(n.$t("header.actions")),1)])]),h(e).dataExists?(o(),r("tbody",U,[(o(!0),r(C,null,j(h(e),(s,b)=>(o(),$(m,{key:s.version,version:s,current:b===0,onViewXml:a[0]||(a[0]=p=>n.$emit("view-xml"))},null,8,["version","current"]))),128))])):c("",!0)]))}});typeof V=="function"&&V(f);typeof w=="function"&&w(f);const G={name:"FormVersionList",components:{FormVersionTable:f,FormVersionViewXml:I(S("FormVersionViewXml")),Loading:q},props:{projectId:{type:String,required:!0},xmlFormId:{type:String,required:!0}},setup(){const{formVersions:t}=y();return{formVersions:t}},data(){return{viewXml:E("FormVersionViewXml")}},created(){this.fetchData()},methods:{fetchData(){this.formVersions.request({url:z.formVersions(this.projectId,this.xmlFormId),extended:!0,resend:!1}).catch(A)}}};function J(t,e,n,a,s,b){const p=d("form-version-table"),D=d("loading"),k=d("form-version-view-xml");return o(),r("div",null,[l(p,{onViewXml:e[0]||(e[0]=F=>s.viewXml.show())}),l(D,{state:a.formVersions.initiallyLoading},null,8,["state"]),l(k,L(s.viewXml,{onHide:e[1]||(e[1]=F=>s.viewXml.hide())}),null,16)])}const ie=B(G,[["render",J]]);export{ie as default};
