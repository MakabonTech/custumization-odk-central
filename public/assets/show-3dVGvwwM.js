import{K as F,H as j,g,o as a,i as b,d as i,R as Tt,t as n,f as V,e as v,a as Bt,_ as Ht,u as P,G as A,J as H,c,p as S,h as s,v as B,F as C,D as O,n as At,j as W,k as G,w as Wt,l as Y,q,a5 as xt,r as M,z as Nt,a6 as L,a7 as Lt,a0 as Q,A as Mt,a8 as Ft,L as X,W as Kt,Y as Jt,a9 as Qt,P as J,O as Zt,$ as Gt,a1 as Yt,C as dt,Q as Xt}from"./index-BJJ6YbMy.js";import{_ as te}from"./breadcrumbs-SpsHxTta.js";import{_ as ee}from"./modal-BMSEXbZM.js";import{_ as ie,c as ct,u as ae,a as se,b as ne}from"./entity-versions-JXwrZI5Y.js";import{u as It}from"./request--gXHIWga.js";import{_ as I}from"./actor-link-Dpyb0cJk.js";import{_ as bt}from"./link-6wXOPrfc.js";import{_ as oe}from"./sentence-separator-DdZUROGk.js";import{_ as le}from"./feed-entry-DFm4qUEV.js";import{u as re}from"./hover-card-hXE3Fll1.js";import{_ as ue}from"./review-state-m1o3bY3s.js";import{_ as tt}from"./section-EpBA88m2.js";import{D as de}from"./date-time-CEONMtaY.js";import{_ as ce}from"./dl-data-DrvvNHng.js";import{_ as be}from"./head-DeISpnNl.js";import"./linkable-ByHyCO2J.js";import"./link-if-can-B5zC8OjL.js";import"./review-state-DuiKQZfx.js";import"./datetime-3JD3bssD.js";const me={class:"modal-introduction"},ve={class:"modal-actions"},pe=["aria-disabled"],fe=["aria-disabled"],ke=Object.assign({name:"Confirmation"},{__name:"confirmation",props:{state:{type:Boolean,default:!1},title:{type:String,required:!0},yesText:{type:String},noText:{type:String},awaitingResponse:{type:Boolean,default:!1}},emits:["hide","success"],setup(e){const{t}=F(),m=e,o=j(()=>m.yesText||t("common.yes")),d=j(()=>m.noText||t("common.no"));return(l,u)=>(a(),g(ee,{state:e.state,hideable:!e.awaitingResponse,backdrop:"",class:"confirmation",onHide:u[2]||(u[2]=r=>l.$emit("hide"))},{title:b(()=>[V(n(e.title),1)]),body:b(()=>[i("div",me,[Tt(l.$slots,"body")]),i("div",ve,[i("button",{type:"button",class:"btn btn-link","aria-disabled":e.awaitingResponse,onClick:u[0]||(u[0]=r=>l.$emit("hide"))},n(d.value),9,pe),i("button",{type:"button",class:"btn btn-primary","aria-disabled":e.awaitingResponse,onClick:u[1]||(u[1]=r=>l.$emit("success"))},[V(n(o.value)+" ",1),v(Bt,{state:e.awaitingResponse},null,8,["state"])],8,fe)])]),_:3},8,["state","hideable"]))}});function mt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{title:{t:0,b:{t:2,i:[{t:3}],s:"Data updates in parallel"}},subtitle:[{t:0,b:{t:2,i:[{t:3}],s:"One or more updates have been made based on data that may have been out of date."}},{t:0,b:{t:2,i:[{t:3}],s:"Please review this summary of the parallel updates."}}],footer:[{t:0,b:{t:2,i:[{t:3}],s:"If any values need to be adjusted, you can edit the Entity data directly."}},{t:0,b:{t:2,i:[{t:3}],s:"If everything looks okay, click “Mark as resolved” to dismiss this warning."}}],markAsResolved:{t:0,b:{t:2,i:[{t:3}],s:"Mark as resolved"}},confirmation:{title:{t:0,b:{t:2,i:[{t:3}],s:"Is this Entity okay?"}},body:{t:0,b:{t:2,i:[{t:3}],s:"After you have reviewed the possibly conflicting updates and made any updates you need to, you can click on Confirm below to clear the parallel update warning."}},confirm:{t:0,b:{t:2,i:[{t:3}],s:"Confirm"}}},problem:{"400_32":{t:0,b:{t:2,i:[{t:3}],s:"Another user has already marked the conflict as resolved. Please refresh to see the updated data."}},"409_15":{t:0,b:{t:2,i:[{t:3}],s:"Data has been modified by another user. Please refresh to see the updated data."}}},conflictResolved:{t:0,b:{t:2,i:[{t:3}],s:"The conflict warning has been cleared."}}}}})}function vt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{title:{t:0,b:{t:2,i:[{t:3}],s:"Aktualizace dat paralelně"}},subtitle:[{t:0,b:{t:2,i:[{t:3}],s:"Jedna nebo více aktualizací bylo provedeno na základě dat, která mohla být zastaralá."}},{t:0,b:{t:2,i:[{t:3}],s:"Prosím, zkontrolujte tuto souhrn paralelních aktualizací."}}],footer:[{t:0,b:{t:2,i:[{t:3}],s:"Pokud je třeba upravit nějaké hodnoty, můžete přímo upravit data Entity."}},{t:0,b:{t:2,i:[{t:3}],s:'Pokud vše vypadá v pořádku, klikněte na "Označit jako vyřešeno" k zavření tohoto varování.'}}],confirmation:{body:{t:0,b:{t:2,i:[{t:3}],s:"Poté, co jste zkontrolovali možně konfliktní aktualizace a provedli všechny potřebné aktualizace, můžete kliknout na Potvrdit níže, abyste odstranili varování o paralelní aktualizaci."}},confirm:{t:0,b:{t:2,i:[{t:3}],s:"Potvrdit"}}},markAsResolved:{t:0,b:{t:2,i:[{t:3}],s:"Označit jako vyřešeno"}},problem:{"400_32":{t:0,b:{t:2,i:[{t:3}],s:"Jiný uživatel již označil konflikt jako vyřešený. Aktualizujte prosím, abyste viděli aktualizovaná data."}},"409_15":{t:0,b:{t:2,i:[{t:3}],s:"Data byla upravena jiným uživatelem. Aktualizujte prosím stránku, abyste viděli aktualizovaná data."}}}},de:{title:{t:0,b:{t:2,i:[{t:3}],s:"Daten werden paralell aktualisiert."}},subtitle:[{t:0,b:{t:2,i:[{t:3}],s:"Ein oder mehrere Updates basieren auf Daten, die möglicherweise veraltert sind."}},{t:0,b:{t:2,i:[{t:3}],s:"Bitte prüfe die Zusammenfassung der paralellen Updates."}}],footer:[{t:0,b:{t:2,i:[{t:3}],s:"Wenn Werte angepasst werden müssen, können Sie die Objektdaten direkt bearbeiten."}},{t:0,b:{t:2,i:[{t:3}],s:"Wenn alles in Ordnung aussieht, klicken Sie auf „Als 'In Ordnung' markieren“, um diese Warnung zu schließen."}}],confirmation:{title:{t:0,b:{t:2,i:[{t:3}],s:"Ist diese Entität OK?"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Nachdem Sie die möglicherweise widersprüchlichen Aktualisierungen überprüft und alle erforderlichen Aktualisierungen vorgenommen haben, können Sie unten auf „Bestätigen“ klicken, um die Warnung zu parallelen Aktualisierungen zu löschen."}},confirm:{t:0,b:{t:2,i:[{t:3}],s:"Bestätigen"}}},conflictResolved:{t:0,b:{t:2,i:[{t:3}],s:"Der Konfliktwarnhinweis wurde aufgehoben."}},markAsResolved:{t:0,b:{t:2,i:[{t:3}],s:"Als gelöst markieren"}},problem:{"400_32":{t:0,b:{t:2,i:[{t:3}],s:"Ein anderer Benutzer hat den Konflikt bereits als gelöst markiert. Bitte aktualisieren Sie, um die aktualisierten Daten zu sehen."}},"409_15":{t:0,b:{t:2,i:[{t:3}],s:"Die Daten wurden von einem anderen Benutzer geändert. Bitte aktualisieren Sie die Seite, um die aktualisierten Daten anzuzeigen."}}}},es:{title:{t:0,b:{t:2,i:[{t:3}],s:"Actualizaciones de datos en paralelo"}},subtitle:[{t:0,b:{t:2,i:[{t:3}],s:"Una o más actualizaciones se han realizado en base a datos que pueden haber estado desactualizados."}},{t:0,b:{t:2,i:[{t:3}],s:"Por favor revise este resumen de las actualizaciones paralelas."}}],footer:[{t:0,b:{t:2,i:[{t:3}],s:"Si es necesario ajustar algún valor, puedes editar directamente los datos de la entidad."}},{t:0,b:{t:2,i:[{t:3}],s:'Si todo parece estar bien, haz clic en "Marcar como resuelto" para descartar esta advertencia.'}}],confirmation:{title:{t:0,b:{t:2,i:[{t:3}],s:"¿Esta entidad está bien?"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Después de haber revisado las actualizaciones posiblemente conflictivas y haber realizado las actualizaciones necesarias, puedes hacer clic en Confirmar a continuación para eliminar la advertencia de actualización paralela."}},confirm:{t:0,b:{t:2,i:[{t:3}],s:"Confirmar"}}},conflictResolved:{t:0,b:{t:2,i:[{t:3}],s:"La advertencia de conflicto ha sido eliminada."}},markAsResolved:{t:0,b:{t:2,i:[{t:3}],s:"Marcar como resuelto"}},problem:{"400_32":{t:0,b:{t:2,i:[{t:3}],s:"Otro usuario ya ha marcado el conflicto como resuelto. Por favor, actualice para ver los datos actualizados."}},"409_15":{t:0,b:{t:2,i:[{t:3}],s:"Los datos han sido modificados por otro usuario. Actualice para ver los datos actualizados."}}}},fr:{title:{t:0,b:{t:2,i:[{t:3}],s:"Mises à jour de données en parallèle"}},subtitle:[{t:0,b:{t:2,i:[{t:3}],s:"Une ou plusieurs mises à jour ont été faites sur la base de données qui pouvaient être obsolètes"}},{t:0,b:{t:2,i:[{t:3}],s:"Merci de vérifier ce résumé des mises à jours parallèles."}}],footer:[{t:0,b:{t:2,i:[{t:3}],s:"Si une valeur doit être ajustée, vous pouvez éditer l'Entité directement."}},{t:0,b:{t:2,i:[{t:3}],s:'Si tout semble correct, cliquez "Marquer comme résolu" pour ne plus afficher cet avertissement.'}}],confirmation:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cette Entité est-elle correcte ?"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Après avoir examiné les possibles conflits de mise à jour et fait les mises à jour nécessaires, vous pouvez cliquer sur Confirmer ci-dessous pour effacer l'avertissement."}},confirm:{t:0,b:{t:2,i:[{t:3}],s:"Confirmer"}}},conflictResolved:{t:0,b:{t:2,i:[{t:3}],s:"L'avertissement de conflit a été effacé."}},markAsResolved:{t:0,b:{t:2,i:[{t:3}],s:"Marquer comme résolu"}},problem:{"400_32":{t:0,b:{t:2,i:[{t:3}],s:"Un autre utilisateur à déjà marqué ce conflit comme résolu. Merci de rafraîchir pour voir les données mises à jour."}},"409_15":{t:0,b:{t:2,i:[{t:3}],s:"Les données ont été modifiées par un autre utilisateur. Merci de rafraîchir pour voir les données mises à jour."}}}},it:{title:{t:0,b:{t:2,i:[{t:3}],s:"Aggiornamenti Dati in parallelo"}},subtitle:[{t:0,b:{t:2,i:[{t:3}],s:"Uno o più aggiornamenti sono stati effettuati in base a dati che potrebbero essere stati obsoleti."}},{t:0,b:{t:2,i:[{t:3}],s:"Per favore, rivedi questo riassunto degli aggiornamenti paralleli."}}],footer:[{t:0,b:{t:2,i:[{t:3}],s:"Se è necessario modificare alcuni valori, è possibile modificare direttamente i dati dell'Entità."}},{t:0,b:{t:2,i:[{t:3}],s:'Se tutto sembra corretto, clicca su "Segna come risolto" per ignorare questo avviso.'}}],confirmation:{title:{t:0,b:{t:2,i:[{t:3}],s:"È questa Entità okay?"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Dopo aver esaminato gli aggiornamenti potenzialmente in conflitto e aver effettuato gli aggiornamenti necessari, puoi fare clic su Conferma in basso per eliminare l'avviso di aggiornamento parallelo."}},confirm:{t:0,b:{t:2,i:[{t:3}],s:"Conferma"}}},conflictResolved:{t:0,b:{t:2,i:[{t:3}],s:"L'avviso di conflitto è stato eliminato."}},markAsResolved:{t:0,b:{t:2,i:[{t:3}],s:"Segna come risolto"}},problem:{"400_32":{t:0,b:{t:2,i:[{t:3}],s:"Un altro utente ha già segnato il conflitto come risolto. Aggiorna la pagina per vedere i dati aggiornati."}},"409_15":{t:0,b:{t:2,i:[{t:3}],s:"I dati sono stati modificati da un altro utente. Aggiornare per vedere i dati aggiornati."}}}},pt:{title:{t:0,b:{t:2,i:[{t:3}],s:"Atualizações de dados em paralelo"}},subtitle:[{t:0,b:{t:2,i:[{t:3}],s:"Uma ou mais atualizações foram feitas com base em dados que podem estar desatualizados."}},{t:0,b:{t:2,i:[{t:3}],s:"Por favor, revise este resumo das atualizações paralelas."}}],footer:[{t:0,b:{t:2,i:[{t:3}],s:"Se algum valor precisar ser ajustado, você pode alterar os dados da Entidade diretamente."}},{t:0,b:{t:2,i:[{t:3}],s:"Se tudo parecer correto, clique em “Marcar como resolvido” para descartar esse aviso."}}],confirmation:{title:{t:0,b:{t:2,i:[{t:3}],s:"Esta Entidade está correta?"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Após revisar as atualizações possivelmente conflitantes e fazer as atualizações necessárias, você pode clicar em Confirmar abaixo para limpar o aviso de atualização paralela."}},confirm:{t:0,b:{t:2,i:[{t:3}],s:"Confirmar"}}},conflictResolved:{t:0,b:{t:2,i:[{t:3}],s:"O aviso de conflito foi resolvido."}},markAsResolved:{t:0,b:{t:2,i:[{t:3}],s:"Marcar como resolvido"}},problem:{"400_32":{t:0,b:{t:2,i:[{t:3}],s:"Outro usuário já marcou o conflito como resolvido. Por favor, atualize a página para ver os dados atualizados."}},"409_15":{t:0,b:{t:2,i:[{t:3}],s:"Os dados foram modificados por outro usuário. Por favor, atualize a página para ver os dados atualizados."}}}},sw:{title:{t:0,b:{t:2,i:[{t:3}],s:"Masasisho ya data inafanyika sambamba"}},subtitle:[{t:0,b:{t:2,i:[{t:3}],s:"Sasisho moja au zaidi yamefanywa kulingana na data ambayo huenda ilikuwa imepitwa na wakati."}},{t:0,b:{t:2,i:[{t:3}],s:"Tafadhali kagua muhtasari huu wa masasisho sambamba."}}],footer:[{t:0,b:{t:2,i:[{t:3}],s:"Ikiwa thamani zozote zinahitaji kurekebishwa, unaweza kuhariri data ya Huluki moja kwa moja."}},{t:0,b:{t:2,i:[{t:3}],s:'Ikiwa kila kitu kiko sawa, bofya "Weka alama kuwa imetatuliwa" ili kuondoa onyo hili.'}}],confirmation:{title:{t:0,b:{t:2,i:[{t:3}],s:"Je! huluki hiki ni sawa?"}},body:{t:0,b:{t:2,i:[{t:3}],s:"Baada ya kukagua masasisho yanayoweza kukinzana na kufanya masasisho yoyote unayohitaji, unaweza kubofya Thibitisha hapa chini ili kufuta onyo sambamba la sasisho."}},confirm:{t:0,b:{t:2,i:[{t:3}],s:"Thibitisha"}}},markAsResolved:{t:0,b:{t:2,i:[{t:3}],s:"Tia alama kuwa imesuluhishwa"}},problem:{"409_15":{t:0,b:{t:2,i:[{t:3}],s:"Data imerekebishwa na mtumiaji mwingine. Tafadhali onyesha upya ili kuona data iliyosasishwa."}}}},"zh-Hant":{title:{t:0,b:{t:2,i:[{t:3}],s:"資料並行更新"}},subtitle:[{t:0,b:{t:2,i:[{t:3}],s:"根據可能已過時的資料進行了一或多項更新。"}},{t:0,b:{t:2,i:[{t:3}],s:"請查看並行更新的摘要。"}}],footer:[{t:0,b:{t:2,i:[{t:3}],s:"如果需要調整任何數值，您可以直接編輯實體資料。"}},{t:0,b:{t:2,i:[{t:3}],s:"如果一切正常，請按一下「標記為已解決」以忽略此警告。"}}],confirmation:{title:{t:0,b:{t:2,i:[{t:3}],s:"這個實體還好嗎？"}},body:{t:0,b:{t:2,i:[{t:3}],s:"在檢查了可能衝突的更新並進行了所需的任何更新後，您可以點擊下面的「確認」以清除並行更新警告。"}},confirm:{t:0,b:{t:2,i:[{t:3}],s:"確認"}}},conflictResolved:{t:0,b:{t:2,i:[{t:3}],s:"衝突警告已清除。"}},markAsResolved:{t:0,b:{t:2,i:[{t:3}],s:"標記為已解決"}},problem:{"400_32":{t:0,b:{t:2,i:[{t:3}],s:"另一位用戶已將衝突標記為已解決。請重新整理查看更新後的資料。"}},"409_15":{t:0,b:{t:2,i:[{t:3}],s:"資料已被另一用戶修改。請重新整理查看更新後的資料。"}}}}}})}const ye={id:"entity-conflict-summary",class:"panel panel-danger"},he={class:"panel-heading"},ge={class:"panel-title"},_e={class:"panel-body"},$e={key:0,class:"panel-footer"},et=Object.assign({name:"EntityConflictSummary"},{__name:"conflict-summary",emits:["resolve"],setup(e,{emit:t}){const{request:m,awaitingResponse:o}=It(),{t:d}=F(),{project:l,entity:u,entityVersions:r}=P(),{alert:f}=A("container"),y=t,_=j(()=>r.filter(D=>D.relevantToConflict)),z=H(!1),R=j(()=>({state:z.value,title:d("confirmation.title"),yesText:d("confirmation.confirm"),noText:d("action.noCancel"),awaitingResponse:o.value})),$=()=>{z.value=!0},p=()=>{z.value=!1},k=A("datasetName"),w=()=>{const D=O.entity(l.id,k,u.uuid,{resolve:!0,baseVersion:u.currentVersion.version});m.patch(D,null,{problemToAlert:({code:h})=>h===400.32?d("problem.400_32"):h===409.15?d("problem.409_15"):null}).then(({data:h})=>{p(),f.success(d("conflictResolved")),u.conflict=h.conflict,u.updatedAt=h.updatedAt,y("resolve")}).catch(At)};return(D,h)=>(a(),c(C,null,[i("div",ye,[i("div",he,[h[1]||(h[1]=i("span",{class:"icon-exclamation-circle"},null,-1)),i("div",null,[i("h1",ge,n(D.$t("title")),1),i("p",null,[V(n(D.$t("subtitle[0]"))+" ",1),h[0]||(h[0]=i("br",null,null,-1)),V(" "+n(D.$t("subtitle[1]")),1)])])]),i("div",_e,[v(ie,{uuid:s(u).uuid,versions:_.value},null,8,["uuid","versions"]),s(l).permits("entity.update")?(a(),c("div",$e,[h[4]||(h[4]=i("span",{class:"icon-arrow-circle-right"},null,-1)),i("p",null,[V(n(D.$t("footer[0]"))+" ",1),h[2]||(h[2]=i("br",null,null,-1)),V(" "+n(D.$t("footer[1]")),1)]),i("button",{type:"button",class:"btn btn-default",onClick:$},[h[3]||(h[3]=i("span",{class:"icon-random"},null,-1)),V(n(D.$t("markAsResolved")),1)])])):S("",!0)])]),v(ke,B(R.value,{onHide:p,onSuccess:w}),{body:b(()=>[i("p",null,n(D.$t("confirmation.body")),1)]),_:1},16)],64))}});typeof mt=="function"&&mt(et);typeof vt=="function"&&vt(et);const Se=Ht(et,[["__scopeId","data-v-340c94ed"]]);function pt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{introduction:{t:0,b:{t:2,i:[{t:3,v:"This Submission update was applied to version "},{t:4,k:"version"},{t:3,v:" of this Entity, but it was created based on version "},{t:4,k:"baseVersion"},{t:3,v:"."}]}},hardConflict:{description:{t:0,b:{t:2,i:[{t:3}],s:"Other updates had already written to the same properties."}}},softConflict:{title:{t:0,b:{t:2,i:[{t:3}],s:"Parallel Update"}}},tab:{baseDiff:{t:0,b:{t:2,i:[{t:3}],s:"Author’s View"}},serverDiff:{t:0,b:{t:2,i:[{t:3}],s:"Central’s View"}},updating:{t:0,b:{t:2,i:[{t:3,v:"(updating "},{t:4,k:"version"},{t:3,v:")"}]}}}}}})}function ft(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{softConflict:{title:{t:0,b:{t:2,i:[{t:3}],s:"Paralelní aktualizace"}}},tab:{baseDiff:{t:0,b:{t:2,i:[{t:3}],s:"Pohled autora"}},serverDiff:{t:0,b:{t:2,i:[{t:3}],s:"Pohled Centralu"}},updating:{t:0,b:{t:2,i:[{t:3,v:"(aktualizace "},{t:4,k:"version"},{t:3,v:")"}]}}}},de:{introduction:{t:0,b:{t:2,i:[{t:3,v:"Diese Aktualisierung der Übermittlung wurde auf Version "},{t:4,k:"version"},{t:3,v:" dieses Objekts angewendet, aber sie wurde basierend auf Version "},{t:4,k:"baseVersion"},{t:3,v:" erstellt."}]}},hardConflict:{description:{t:0,b:{t:2,i:[{t:3}],s:"Andere Updates wurden bereits in die gleichen Eigenschaften geschrieben."}}},softConflict:{title:{t:0,b:{t:2,i:[{t:3}],s:"Parallel Update"}}},tab:{baseDiff:{t:0,b:{t:2,i:[{t:3}],s:"Autoren-Ansicht"}},serverDiff:{t:0,b:{t:2,i:[{t:3}],s:"Zentrale Ansicht"}},updating:{t:0,b:{t:2,i:[{t:3,v:"(aktualisiere "},{t:4,k:"version"},{t:3,v:")"}]}}}},es:{introduction:{t:0,b:{t:2,i:[{t:3,v:"Esta actualización de envío se aplicó a la versión "},{t:4,k:"version"},{t:3,v:" de esta entidad, pero se creó basándose en la versión "},{t:4,k:"baseVersion"},{t:3,v:"."}]}},hardConflict:{description:{t:0,b:{t:2,i:[{t:3}],s:"Otras actualizaciones ya habían sido escritas en las mismas propiedades."}}},softConflict:{title:{t:0,b:{t:2,i:[{t:3}],s:"Actualización Paralela"}}},tab:{baseDiff:{t:0,b:{t:2,i:[{t:3}],s:"Vista del autor"}},serverDiff:{t:0,b:{t:2,i:[{t:3}],s:"Vista de Central"}},updating:{t:0,b:{t:2,i:[{t:3,v:"(actualizando "},{t:4,k:"version"},{t:3,v:")"}]}}}},fr:{introduction:{t:0,b:{t:2,i:[{t:3,v:"Cette Soumission de mise à jour a été appliquée à la version "},{t:4,k:"version"},{t:3,v:" de cette entité, mais elle a été créée sur la base de la version "},{t:4,k:"baseVersion"},{t:3,v:"."}]}},hardConflict:{description:{t:0,b:{t:2,i:[{t:3}],s:"D'autres mises à jour ont déjà écrit sur les mêmes propriétés."}}},softConflict:{title:{t:0,b:{t:2,i:[{t:3}],s:"Mise à jour Parallèle"}}},tab:{baseDiff:{t:0,b:{t:2,i:[{t:3}],s:"Vue de l'Auteur"}},serverDiff:{t:0,b:{t:2,i:[{t:3}],s:"Vue de Central"}},updating:{t:0,b:{t:2,i:[{t:3,v:"(mise à jour "},{t:4,k:"version"},{t:3,v:")"}]}}}},it:{introduction:{t:0,b:{t:2,i:[{t:3,v:"Questa modifica di invio è stata applicata alla versione "},{t:4,k:"version"},{t:3,v:" di questa Entità, ma è stata creata sulla base della versione "},{t:4,k:"baseVersion"},{t:3,v:"."}]}},hardConflict:{description:{t:0,b:{t:2,i:[{t:3}],s:"Altre aggiornamenti erano già stati scritti sulle stesse proprietà."}}},softConflict:{title:{t:0,b:{t:2,i:[{t:3}],s:"Aggiornamento parallelo"}}},tab:{baseDiff:{t:0,b:{t:2,i:[{t:3}],s:"Vista dell'autore"}},serverDiff:{t:0,b:{t:2,i:[{t:3}],s:"Vista di Central"}},updating:{t:0,b:{t:2,i:[{t:3,v:"(aggiornando "},{t:4,k:"version"},{t:3,v:")"}]}}}},pt:{introduction:{t:0,b:{t:2,i:[{t:3,v:"Esta atualização de Resposta foi aplicada à versão "},{t:4,k:"version"},{t:3,v:" desta Entidade, mas foi criada com base na versão "},{t:4,k:"baseVersion"},{t:3,v:"."}]}},hardConflict:{description:{t:0,b:{t:2,i:[{t:3}],s:"Outras atualizações já foram gravadas nas mesmas propriedades."}}},softConflict:{title:{t:0,b:{t:2,i:[{t:3}],s:"Atualização paralela"}}},tab:{baseDiff:{t:0,b:{t:2,i:[{t:3}],s:"Visualização do Autor"}},serverDiff:{t:0,b:{t:2,i:[{t:3}],s:"Visualização do Central"}},updating:{t:0,b:{t:2,i:[{t:3,v:"(atualizando "},{t:4,k:"version"},{t:3,v:")"}]}}}},"zh-Hant":{introduction:{t:0,b:{t:2,i:[{t:3,v:"此提交更新已套用至該實體的版本 "},{t:4,k:"version"},{t:3,v:"，但它是基於版本"},{t:4,k:"baseVersion"},{t:3,v:"建立的。"}]}},hardConflict:{description:{t:0,b:{t:2,i:[{t:3}],s:"其他更新已寫入相同的屬性。"}}},softConflict:{title:{t:0,b:{t:2,i:[{t:3}],s:"平行更新"}}},tab:{baseDiff:{t:0,b:{t:2,i:[{t:3}],s:"由作者的角度"}},serverDiff:{t:0,b:{t:2,i:[{t:3}],s:"由Central的角度"}},updating:{t:0,b:{t:2,i:[{t:3,v:"(更新中"},{t:4,k:"version"},{t:3,v:")"}]}}}}}})}const we={class:"entity-diff-head"},De={key:0},Ve={key:1},ze={class:"nav nav-tabs"},Ce=["onClick"],je={class:"updating"},it=Object.assign({name:"EntityDiffHead"},{__name:"head",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const m=e,o=t,d=A("entityVersion"),l=[["baseDiff",d.baseVersion],["serverDiff",d.version-1]],u=r=>{r!==m.modelValue&&o("update:modelValue",r)};return(r,f)=>(a(),c("div",we,[s(d).conflict==="hard"?(a(),c("div",De,[f[0]||(f[0]=i("span",{class:"icon-warning"},null,-1)),i("p",null,[i("strong",null,n(r.$t("common.conflict"))+" ",1),i("span",null,n(r.$t("introduction",{version:s(d).version-1,baseVersion:s(d).baseVersion})),1),v(oe),i("span",null,n(r.$t("hardConflict.description")),1)])])):(a(),c("div",Ve,[f[1]||(f[1]=i("span",{class:"icon-info-circle"},null,-1)),i("p",null,[i("strong",null,n(r.$t("softConflict.title"))+" ",1),i("span",null,n(r.$t("introduction",{version:s(d).version-1,baseVersion:s(d).baseVersion})),1)])])),i("ul",ze,[(a(),c(C,null,W(l,([y,_])=>i("li",{key:y,class:G({active:e.modelValue===y}),role:"presentation"},[i("a",{href:"#",role:"button",onClick:Wt(z=>u(y),["prevent"])},[V(n(r.$t(`tab.${y}`))+" ",1),i("span",je,n(r.$t("tab.updating",{version:r.$t("common.versionShort",{version:_})})),1)],8,Ce)],2)),64))])]))}});typeof pt=="function"&&pt(it);typeof ft=="function"&&ft(it);function kt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{conflictingProp:{t:0,b:{t:2,i:[{t:3}],s:"Another update already wrote to this property."}}}}})}function yt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{conflictingProp:{t:0,b:{t:2,i:[{t:3}],s:"Další aktualizace již zapsala do této vlastnosti."}}},de:{conflictingProp:{t:0,b:{t:2,i:[{t:3}],s:"Ein weiteres Update hat bereits diese Eigenschaft geschrieben."}}},es:{conflictingProp:{t:0,b:{t:2,i:[{t:3}],s:"Otra actualización ya se escribió en esta propiedad."}}},fr:{conflictingProp:{t:0,b:{t:2,i:[{t:3}],s:"Une autre mise à jour a déjà écrit sur cette propriété."}}},it:{conflictingProp:{t:0,b:{t:2,i:[{t:3}],s:"Un altro aggiornamento è già stato scritto su questa proprietà."}}},pt:{conflictingProp:{t:0,b:{t:2,i:[{t:3}],s:"Outra atualização já foi gravada nesta propriedade."}}},"zh-Hant":{conflictingProp:{t:0,b:{t:2,i:[{t:3}],s:"另一個更新已寫入此屬性。"}}}}})}const Ee={class:"entity-diff-row"},Ae={key:0,class:"sr-only"},Ne={key:0,class:"empty"},Ie={key:1,class:"value"},Re={"aria-hidden":"true"},Pe={key:0},Oe={key:1,class:"icon-arrow-circle-right"},qe={key:2,class:"empty"},Ue={key:3,class:"value"},at=Object.assign({name:"EntityDiffRow"},{__name:"row",props:{oldVersion:{type:Object,required:!0},name:{type:String,required:!0}},setup(e){const t=e,m=A("entityVersion"),{name:o}=t,d=m.conflictingProperties.has(o),l=j(()=>o==="label"?t.oldVersion.label:t.oldVersion.data[o]??""),u=o==="label"?m.label:m.data[o];return(r,f)=>{const y=Y("tooltip");return a(),c("tr",Ee,[i("td",{class:G({property:s(o)!=="label",conflicting:s(d)})},[q((a(),c("span",null,[V(n(s(o)==="label"?r.$t("entity.label"):s(o)),1)])),[[y,void 0,void 0,{text:!0}]]),s(d)?(a(),c("span",Ae," "+n(r.$t("conflictingProp")),1)):S("",!0)],2),l.value===""?(a(),c("td",Ne,n(r.$t("common.emptyValue")),1)):(a(),c("td",Ie,n(l.value),1)),i("td",Re,[s(d)?q((a(),c("span",Pe,f[0]||(f[0]=[i("span",{class:"icon-arrow-circle-right"},null,-1),i("span",{class:"icon-exclamation-circle"},null,-1)]))),[[y,r.$t("conflictingProp"),void 0,{"no-aria":!0}]]):(a(),c("span",Oe))]),s(u)===""?(a(),c("td",qe,n(r.$t("common.emptyValue")),1)):(a(),c("td",Ue,n(s(u)),1))])}}});typeof kt=="function"&&kt(at);typeof yt=="function"&&yt(at);function ht(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{header:{oldValue:{t:0,b:{t:2,i:[{t:3}],s:"Old value"}},newValue:{t:0,b:{t:2,i:[{t:3}],s:"New value"}}},comparing:{t:0,b:{t:2,i:[{t:3}],s:"Comparing"}},version:{t:0,b:{t:2,i:[{t:4,k:"version"},{t:3,v:" ("},{t:4,k:"source"},{t:3,v:")"}]}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Offline update"}},accuracyWarning:{t:0,b:{t:2,i:[{t:3}],s:"In this case, the author’s view may not be accurate."}}}}})}function gt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{header:{oldValue:{t:0,b:{t:2,i:[{t:3}],s:"Stará hodnota"}},newValue:{t:0,b:{t:2,i:[{t:3}],s:"Nová hodnota"}}},comparing:{t:0,b:{t:2,i:[{t:3}],s:"Srovnání"}},version:{t:0,b:{t:2,i:[{t:4,k:"version"},{t:3,v:" ("},{t:4,k:"source"},{t:3,v:")"}]}}},de:{header:{oldValue:{t:0,b:{t:2,i:[{t:3}],s:"Alter Wert"}},newValue:{t:0,b:{t:2,i:[{t:3}],s:"Neuer Wert"}}},comparing:{t:0,b:{t:2,i:[{t:3}],s:"Vergleichen"}},version:{t:0,b:{t:2,i:[{t:4,k:"version"},{t:3,v:" ("},{t:4,k:"source"},{t:3,v:")"}]}},accuracyWarning:{t:0,b:{t:2,i:[{t:3}],s:"In diesem Fall ist die Ansicht des Autors möglicherweise nicht korrekt."}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Offline-Aktualisierung"}}},es:{header:{oldValue:{t:0,b:{t:2,i:[{t:3}],s:"Valor antiguo"}},newValue:{t:0,b:{t:2,i:[{t:3}],s:"Nuevo valor"}}},comparing:{t:0,b:{t:2,i:[{t:3}],s:"Comparando"}},version:{t:0,b:{t:2,i:[{t:4,k:"version"},{t:3,v:" ("},{t:4,k:"source"},{t:3,v:")"}]}},accuracyWarning:{t:0,b:{t:2,i:[{t:3}],s:"En este caso, la opinión del autor puede no ser exacta."}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Actualización offline"}}},fr:{header:{oldValue:{t:0,b:{t:2,i:[{t:3}],s:"Ancienne valeur"}},newValue:{t:0,b:{t:2,i:[{t:3}],s:"Nouvelle valeur"}}},comparing:{t:0,b:{t:2,i:[{t:3}],s:"Comparaison"}},version:{t:0,b:{t:2,i:[{t:4,k:"version"},{t:3,v:" ("},{t:4,k:"source"},{t:3,v:")"}]}},accuracyWarning:{t:0,b:{t:2,i:[{t:3}],s:"Dans ce cas, la vue de l'auteur peut ne pas être exacte."}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Mise à jour Hors Ligne"}}},it:{header:{oldValue:{t:0,b:{t:2,i:[{t:3}],s:"Vecchio valore"}},newValue:{t:0,b:{t:2,i:[{t:3}],s:"Nuovo valore"}}},comparing:{t:0,b:{t:2,i:[{t:3}],s:"Paragonando"}},version:{t:0,b:{t:2,i:[{t:4,k:"version"},{t:3,v:" ("},{t:4,k:"source"},{t:3,v:")"}]}},accuracyWarning:{t:0,b:{t:2,i:[{t:3}],s:"In questo caso, l'opinione dell'autore potrebbe non essere accurata."}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Aggiornamento offline"}}},pt:{header:{oldValue:{t:0,b:{t:2,i:[{t:3}],s:"Valor antigo"}},newValue:{t:0,b:{t:2,i:[{t:3}],s:"Novo valor"}}},comparing:{t:0,b:{t:2,i:[{t:3}],s:"Comparando"}},version:{t:0,b:{t:2,i:[{t:4,k:"version"},{t:3,v:" "},{t:4,k:"source"}]}},accuracyWarning:{t:0,b:{t:2,i:[{t:3}],s:"Nesse caso, a visualização do autor pode não ser precisa."}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Atualização offline"}}},"zh-Hant":{header:{oldValue:{t:0,b:{t:2,i:[{t:3}],s:"舊值"}},newValue:{t:0,b:{t:2,i:[{t:3}],s:"新值"}}},comparing:{t:0,b:{t:2,i:[{t:3}],s:"比較"}},version:{t:0,b:{t:2,i:[{t:4,k:"version"},{t:3,v:" ("},{t:4,k:"source"},{t:3,v:")"}]}},accuracyWarning:{t:0,b:{t:2,i:[{t:3}],s:"在這種情況下，作者的觀點可能並不準確。"}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"離線更新"}}}}})}const Te={class:"entity-diff-table table"},Be={class:"sr-only"},He={scope:"col"},We={scope:"col"},xe={key:0,class:"comparing"},Le={class:"version-string"},Me={class:"version-string"},Fe={key:0,class:"offline-update"},Ke={key:1,class:"accuracy-warning"},Je={colspan:"4"},st=Object.assign({name:"EntityDiffTable"},{__name:"table",props:{diff:{type:Set,required:!0}},setup(e){const t=e,m=A("uuid"),o=A("entityVersion"),{entityVersions:d}=P(),l=j(()=>{const r=xt(t.diff)===o.baseDiff?o.baseVersion:o.version-1;return d[r-1]}),u=j(()=>t.diff===o.baseDiff&&o.conflict!=null&&o.branch!=null&&o!==o.branch.first&&o.branch.lastContiguousWithTrunk<o.baseVersion);return(r,f)=>{const y=M("i18n-t"),_=Y("tooltip");return a(),c("table",Te,[f[4]||(f[4]=i("colgroup",null,[i("col"),i("col"),i("col"),i("col")],-1)),i("thead",Be,[i("tr",null,[f[0]||(f[0]=i("th",{scope:"col"},null,-1)),i("th",He,n(r.$t("header.oldValue")),1),f[1]||(f[1]=i("th",{scope:"col","aria-hidden":"true"},null,-1)),i("th",We,n(r.$t("header.newValue")),1)])]),i("tbody",null,[s(o).conflict!=null?(a(),c("tr",xe,[i("td",null,n(r.$t("comparing")),1),i("td",null,[q((a(),g(y,{tag:"div",keypath:"version",class:"version-and-source"},{version:b(()=>[i("span",Le,n(r.$t("common.versionShort",l.value)),1)]),source:b(()=>[v(ct,{uuid:s(m),version:l.value},null,8,["uuid","version"])]),_:1})),[[_,void 0,void 0,{text:!0}]])]),f[2]||(f[2]=i("td",{"aria-hidden":"true"},[i("span",{class:"icon-arrow-circle-right"})],-1)),i("td",null,[q((a(),g(y,{tag:"div",keypath:"version",class:"version-and-source"},{version:b(()=>[i("span",Me,n(r.$t("common.versionShort",s(o))),1)]),source:b(()=>[v(ct,{uuid:s(m),version:s(o)},null,8,["uuid","version"])]),_:1})),[[_,void 0,void 0,{text:!0}]]),s(o).branch!=null?(a(),c("div",Fe,n(r.$t("offlineUpdate")),1)):S("",!0)])])):S("",!0),u.value?(a(),c("tr",Ke,[i("td",Je,[i("p",null,[f[3]||(f[3]=i("span",{class:"icon-warning"},null,-1)),V(n(r.$t("accuracyWarning")),1)])])])):S("",!0),(a(!0),c(C,null,W(e.diff,z=>(a(),g(at,{key:z,"old-version":l.value,name:z},null,8,["old-version","name"]))),128))])])}}});typeof ht=="function"&&ht(st);typeof gt=="function"&&gt(st);function _t(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{noChange:{t:0,b:{t:2,i:[{t:3}],s:"There are no changes to show."}}}}})}function $t(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{noChange:{t:0,b:{t:2,i:[{t:3}],s:"Nejsou žádné změny k zobrazení."}}},de:{noChange:{t:0,b:{t:2,i:[{t:3}],s:"Es gibt keine Änderungen anzuzeigen."}}},es:{noChange:{t:0,b:{t:2,i:[{t:3}],s:"No hay cambios que mostrar."}}},fr:{noChange:{t:0,b:{t:2,i:[{t:3}],s:"Il n'y a pas de modification à montrer."}}},it:{noChange:{t:0,b:{t:2,i:[{t:3}],s:"Non ci sono cambiamenti da mostrare."}}},pt:{noChange:{t:0,b:{t:2,i:[{t:3}],s:"Não há alterações para mostrar."}}},"zh-Hant":{noChange:{t:0,b:{t:2,i:[{t:3}],s:"沒有可顯示的變更。"}}}}})}const Qe={key:2,class:"empty-table-message"},nt=Object.assign({name:"EntityDiff"},{__name:"diff",setup(e){const t=A("entityVersion"),m=t.conflict!=null?`${t.conflict}-conflict`:null,o=H("baseDiff"),d=j(()=>t[o.value]);return(l,u)=>(a(),c("div",{class:G(["entity-diff",s(m)])},[s(t).conflict!=null?(a(),g(it,{key:0,modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=r=>o.value=r)},null,8,["modelValue"])):S("",!0),s(t).conflict!=null||d.value.size!==0?(a(),g(st,{key:1,diff:d.value},null,8,["diff"])):S("",!0),s(t).conflict!=null&&d.value.size===0?(a(),c("p",Qe,n(l.$t("noChange")),1)):S("",!0)],2))}});typeof _t=="function"&&_t(nt);typeof $t=="function"&&$t(nt);const Z=Object.assign({name:"SubmissionLink"},{__name:"link",props:{projectId:{type:[Number,String],required:!0},xmlFormId:{type:String,required:!0},submission:{type:Object,required:!0}},setup(e){const t=e,{submissionPath:m}=Nt(),o=j(()=>m(t.projectId,t.xmlFormId,t.submission.instanceId)),d=H(null);return re(j(()=>d.value?.$el),"submission",()=>({projectId:t.projectId,xmlFormId:t.xmlFormId,instanceId:t.submission.instanceId})),(l,u)=>{const r=M("router-link");return a(),g(r,{ref_key:"link",ref:d,key:o.value,to:o.value},{default:b(()=>[V(n(e.submission.currentVersion.instanceName??e.submission.instanceId),1)]),_:1},8,["to"])}}});function St(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{title:{submission:{create:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Submission "},{t:4,k:"instanceName"},{t:3,v:" uploaded by "},{t:4,k:"submitter"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:4,k:"deletedSubmission"},{t:3,v:" uploaded by "},{t:4,k:"name"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(deleted Submission "},{t:4,k:"id"},{t:3,v:")"}]}}}},approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" by "},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"Approved"}}}},entity:{create:{submission:{t:0,b:{t:2,i:[{t:3,v:"Created Entity "},{t:4,k:"label"},{t:3,v:" in "},{t:4,k:"dataset"},{t:3,v:" Entity List"}]}},api:{t:0,b:{t:2,i:[{t:3,v:"Entity "},{t:4,k:"label"},{t:3,v:" created by "},{t:4,k:"name"}]}},bulkSource:{t:0,b:{t:2,i:[{t:3,v:"File "},{t:4,k:"name"},{t:3,v:" uploaded by "},{t:4,k:"actor"}]}}},update_version:{submission:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Data updated by Submission "},{t:4,k:"instanceName"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:3,v:"Data updated by "},{t:4,k:"deletedSubmission"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(deleted Submission "},{t:4,k:"id"},{t:3,v:")"}]}}}},api:{t:0,b:{t:2,i:[{t:3,v:"Data updated by "},{t:4,k:"name"}]}}},update_resolve:{t:0,b:{t:2,i:[{t:3,v:"Conflict warning resolved by "},{t:4,k:"name"}]}},delete:{t:0,b:{t:2,i:[{t:3,v:"Entity "},{t:4,k:"label"},{t:3,v:" deleted by "},{t:4,k:"name"}]}},restore:{t:0,b:{t:2,i:[{t:3,v:"Entity "},{t:4,k:"label"},{t:3,v:" restored by "},{t:4,k:"name"}]}}}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Offline update"}}}}})}function wt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{title:{submission:{create:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Podání "},{t:4,k:"instanceName"},{t:3,v:" nahrané "},{t:4,k:"submitter"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:4,k:"deletedSubmission"},{t:3,v:" nahráno od "},{t:4,k:"name"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(smazané podání "},{t:4,k:"id"},{t:3,v:")"}]}}}},approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" u "},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"Schváleno"}}}},entity:{create:{api:{t:0,b:{t:2,i:[{t:3,v:"Entita "},{t:4,k:"label"},{t:3,v:" vytvořena od "},{t:4,k:"name"}]}}},update_version:{submission:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Data aktualizována prostřednictvím odeslání "},{t:4,k:"instanceName"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:3,v:"Data aktualizována pomocí "},{t:4,k:"deletedSubmission"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(smazáno Odeslání "},{t:4,k:"id"},{t:3,v:")"}]}}}},api:{t:0,b:{t:2,i:[{t:3,v:"Data aktualizovaná od "},{t:4,k:"name"}]}}},update_resolve:{t:0,b:{t:2,i:[{t:3,v:"Varování konfliktu vyřešeno "},{t:4,k:"name"}]}}}}},de:{title:{submission:{create:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Übermittlung "},{t:4,k:"instanceName"},{t:3,v:" hochgeladen von "},{t:4,k:"submitter"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:4,k:"deletedSubmission"},{t:3,v:" hochgeladen von "},{t:4,k:"name"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(Gelöschte Übermittlungen "},{t:4,k:"id"},{t:3,v:")"}]}}}},approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" • "},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"Bestätigt"}}}},entity:{create:{api:{t:0,b:{t:2,i:[{t:3,v:"Entität "},{t:4,k:"label"},{t:3,v:" erstellt von "},{t:4,k:"name"}]}},bulkSource:{t:0,b:{t:2,i:[{t:3,v:"Datei "},{t:4,k:"name"},{t:3,v:" hochgeladen von "},{t:4,k:"actor"}]}},submission:{t:0,b:{t:2,i:[{t:3,v:"Entität "},{t:4,k:"label"},{t:3,v:" in "},{t:4,k:"dataset"},{t:3,v:" Entitätsliste erzeugt"}]}}},update_version:{submission:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Daten aktualisiert durch Übermittlung "},{t:4,k:"instanceName"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:3,v:"Daten aktualisiert durch "},{t:4,k:"deletedSubmission"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(gelöschte Übermittlung "},{t:4,k:"id"},{t:3,v:")"}]}}}},api:{t:0,b:{t:2,i:[{t:3,v:"Daten aktualisiert von "},{t:4,k:"name"}]}}},update_resolve:{t:0,b:{t:2,i:[{t:3,v:"Konfliktwarnung gelöst von "},{t:4,k:"name"}]}},delete:{t:0,b:{t:2,i:[{t:3,v:"Entität "},{t:4,k:"label"},{t:3,v:" gelöscht von "},{t:4,k:"name"}]}}}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Offline-Aktualisierung"}}},es:{title:{submission:{create:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Envío "},{t:4,k:"instanceName"},{t:3,v:" subido por "},{t:4,k:"submitter"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:4,k:"deletedSubmission"},{t:3,v:" subido por "},{t:4,k:"name"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(envío eliminado "},{t:4,k:"id"},{t:3,v:")"}]}}}},approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" por "},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"Aprobado"}}}},entity:{create:{api:{t:0,b:{t:2,i:[{t:3,v:"Entidad "},{t:4,k:"label"},{t:3,v:" creada por "},{t:4,k:"name"}]}},bulkSource:{t:0,b:{t:2,i:[{t:3,v:"Archivo "},{t:4,k:"name"},{t:3,v:" subido por "},{t:4,k:"actor"}]}},submission:{t:0,b:{t:2,i:[{t:3,v:"Entidad creada "},{t:4,k:"label"},{t:3,v:" en "},{t:4,k:"dataset"},{t:3,v:" Lista de entidades"}]}}},update_version:{submission:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Datos actualizados por el envío "},{t:4,k:"instanceName"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:3,v:"Datos actualizados por "},{t:4,k:"deletedSubmission"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(envío eliminado "},{t:4,k:"id"},{t:3,v:")"}]}}}},api:{t:0,b:{t:2,i:[{t:3,v:"Datos actualizados por "},{t:4,k:"name"}]}}},update_resolve:{t:0,b:{t:2,i:[{t:3,v:"Advertencia de conflicto resuelto por "},{t:4,k:"name"}]}},delete:{t:0,b:{t:2,i:[{t:3,v:"Entidad "},{t:4,k:"label"},{t:3,v:" eliminada por "},{t:4,k:"name"}]}},restore:{t:0,b:{t:2,i:[{t:3,v:"Entidad "},{t:4,k:"label"},{t:3,v:" restablecida por "},{t:4,k:"name"}]}}}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Actualización offline"}}},fr:{title:{submission:{create:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Soumission "},{t:4,k:"instanceName"},{t:3,v:" téléversée par "},{t:4,k:"submitter"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:4,k:"deletedSubmission"},{t:3,v:" téléversée par "},{t:4,k:"name"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(Soumission "},{t:4,k:"id"},{t:3,v:" supprimée)"}]}}}},approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" par "},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"Approuvée"}}}},entity:{create:{api:{t:0,b:{t:2,i:[{t:3,v:"Entité "},{t:4,k:"label"},{t:3,v:" créée par "},{t:4,k:"name"}]}},bulkSource:{t:0,b:{t:2,i:[{t:3,v:"Fichier "},{t:4,k:"name"},{t:3,v:" envoyé par "},{t:4,k:"actor"}]}},submission:{t:0,b:{t:2,i:[{t:3,v:"Création de l'entité "},{t:4,k:"label"},{t:3,v:" dans la liste "},{t:4,k:"dataset"}]}}},update_version:{submission:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Données mises à jour par la Soumission "},{t:4,k:"instanceName"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:3,v:"Données mises à jour par "},{t:4,k:"deletedSubmission"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(Soumission supprimée "},{t:4,k:"id"},{t:3,v:")"}]}}}},api:{t:0,b:{t:2,i:[{t:3,v:"Donnée mise à jour par "},{t:4,k:"name"}]}}},update_resolve:{t:0,b:{t:2,i:[{t:3,v:"Avertissement de conflit résolu par "},{t:4,k:"name"}]}},delete:{t:0,b:{t:2,i:[{t:3,v:"Entité "},{t:4,k:"label"},{t:3,v:" supprimée par "},{t:4,k:"name"}]}},restore:{t:0,b:{t:2,i:[{t:3,v:"l'Entité "},{t:4,k:"label"},{t:3,v:" a été restaurée par "},{t:4,k:"name"}]}}}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Mise à jour Hors Ligne"}}},id:{title:{submission:{approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" oleh "},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"Disetujui"}}}},entity:{create:{api:{t:0,b:{t:2,i:[{t:3,v:"Entitas "},{t:4,k:"label"},{t:3,v:" dibuat oleh "},{t:4,k:"name"}]}}},update_version:{api:{t:0,b:{t:2,i:[{t:3,v:"Data diperbarui oleh "},{t:4,k:"name"}]}}}}}},it:{title:{submission:{create:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Invio "},{t:4,k:"instanceName"},{t:3,v:" caricato da "},{t:4,k:"submitter"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:4,k:"deletedSubmission"},{t:3,v:" caricata da "},{t:4,k:"name"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(Invio cancellato "},{t:4,k:"id"},{t:3,v:")"}]}}}},approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" per "},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"Approvato"}}}},entity:{create:{api:{t:0,b:{t:2,i:[{t:3,v:"Entità "},{t:4,k:"label"},{t:3,v:" creata da "},{t:4,k:"name"}]}},bulkSource:{t:0,b:{t:2,i:[{t:3,v:"File "},{t:4,k:"name"},{t:3,v:" caricato da "},{t:4,k:"actor"}]}},submission:{t:0,b:{t:2,i:[{t:3,v:"Entità creata "},{t:4,k:"label"},{t:3,v:" in "},{t:4,k:"dataset"},{t:3,v:" Lista Entità"}]}}},update_version:{submission:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Dati aggiornati tramite invio "},{t:4,k:"instanceName"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:3,v:"Dati aggiornati da "},{t:4,k:"deletedSubmission"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(Invio cancellato "},{t:4,k:"id"},{t:3,v:")"}]}}}},api:{t:0,b:{t:2,i:[{t:3,v:"Dati aggiornati da "},{t:4,k:"name"}]}}},update_resolve:{t:0,b:{t:2,i:[{t:3,v:"Avviso di conflitto risolto da "},{t:4,k:"name"}]}},delete:{t:0,b:{t:2,i:[{t:3,v:"Entità "},{t:4,k:"label"},{t:3,v:" eliminata da "},{t:4,k:"name"}]}},restore:{t:0,b:{t:2,i:[{t:3,v:"Entità "},{t:4,k:"label"},{t:3,v:" ripristinata da "},{t:4,k:"name"}]}}}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Aggiornamento offline"}}},ja:{title:{submission:{approval:{full:{t:0,b:{t:2,i:[{t:4,k:"name"},{t:3,v:"による"},{t:4,k:"reviewState"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"承認済み"}}}}}},pt:{title:{submission:{create:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Resposta "},{t:4,k:"instanceName"},{t:3,v:" carregada por "},{t:4,k:"submitter"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:4,k:"deletedSubmission"},{t:3,v:" carregada por "},{t:4,k:"name"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(Resposta "},{t:4,k:"id"},{t:3,v:" excluída)"}]}}}},approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" por "},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"Aprovado"}}}},entity:{create:{api:{t:0,b:{t:2,i:[{t:4,k:"label"},{t:3,v:" da Entidade criada por "},{t:4,k:"name"}]}},bulkSource:{t:0,b:{t:2,i:[{t:3,v:"Arquivo "},{t:4,k:"name"},{t:3,v:" carregado por "},{t:4,k:"actor"}]}},submission:{t:0,b:{t:2,i:[{t:3,v:"Entidade "},{t:4,k:"label"},{t:3,v:" criada na Lista de Entidades "},{t:4,k:"dataset"}]}}},update_version:{submission:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Dados atualizados pela Resposta "},{t:4,k:"instanceName"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:3,v:"Dados atualizados por "},{t:4,k:"deletedSubmission"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(Resposta "},{t:4,k:"id"},{t:3,v:" excluída)"}]}}}},api:{t:0,b:{t:2,i:[{t:3,v:"Dados atualizados por "},{t:4,k:"name"}]}}},update_resolve:{t:0,b:{t:2,i:[{t:3,v:"Aviso de conflito resolvido por "},{t:4,k:"name"}]}},delete:{t:0,b:{t:2,i:[{t:3,v:"Entidade "},{t:4,k:"label"},{t:3,v:" excluída por "},{t:4,k:"name"}]}},restore:{t:0,b:{t:2,i:[{t:3,v:"Entidade "},{t:4,k:"label"},{t:3,v:" recuperada por "},{t:4,k:"name"}]}}}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"Atualização offline"}}},sw:{title:{submission:{create:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Wasilisho "},{t:4,k:"instanceName"},{t:3,v:" limepakiwa na "},{t:4,k:"submitter"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:4,k:"deletedSubmission"},{t:3,v:" imepakiwa na "},{t:4,k:"name"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(Wasilisho limefutwa "},{t:4,k:"id"},{t:3,v:")"}]}}}},approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" kwa "},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"Imeidhinishwa"}}}},entity:{create:{api:{t:0,b:{t:2,i:[{t:3,v:"Huluki "},{t:4,k:"label"},{t:3,v:" iliyoundwa na "},{t:4,k:"name"}]}},submission:{t:0,b:{t:2,i:[{t:3,v:"Imeunda Huluki "},{t:4,k:"label"},{t:3,v:" katika "},{t:4,k:"dataset"},{t:3,v:" Orodha ya Huluki"}]}}},update_version:{submission:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"Data imesasishwa na Uwasilishaji "},{t:4,k:"instanceName"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:3,v:"Data imesasishwa na "},{t:4,k:"deletedSubmission"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(Wasilisho limefutwa "},{t:4,k:"id"},{t:3,v:")"}]}}}},api:{t:0,b:{t:2,i:[{t:3,v:"Data iliyosasishwa na "},{t:4,k:"name"}]}}},update_resolve:{t:0,b:{t:2,i:[{t:3,v:"Onyo la migogoro limetatuliwa kwa "},{t:4,k:"name"}]}}}}},"zh-Hant":{title:{submission:{create:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"由 "},{t:4,k:"submitter"},{t:3,v:" 上傳的投稿內容 "},{t:4,k:"instanceName"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:4,k:"deletedSubmission"},{t:3,v:" 由 "},{t:4,k:"name"},{t:3,v:"上傳"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(已刪除的提交 "},{t:4,k:"id"},{t:3,v:")"}]}}}},approval:{full:{t:0,b:{t:2,i:[{t:4,k:"reviewState"},{t:3,v:" 按照"},{t:4,k:"name"}]}},reviewState:{t:0,b:{t:2,i:[{t:3}],s:"已認可"}}}},entity:{create:{api:{t:0,b:{t:2,i:[{t:3,v:"由 "},{t:4,k:"name"},{t:3,v:"建立的"},{t:4,k:"label"},{t:3,v:"實體"}]}},bulkSource:{t:0,b:{t:2,i:[{t:3,v:"由 "},{t:4,k:"actor"},{t:3,v:"上傳的"},{t:4,k:"name"},{t:3,v:"檔案"}]}},submission:{t:0,b:{t:2,i:[{t:3,v:"在 "},{t:4,k:"dataset"},{t:3,v:" 實體清單中建立了實體 "},{t:4,k:"label"}]}}},update_version:{submission:{notDeleted:{t:0,b:{t:2,i:[{t:3,v:"提交"},{t:4,k:"instanceName"},{t:3,v:"更新的數據"}]}},deleted:{full:{t:0,b:{t:2,i:[{t:3,v:"已由"},{t:4,k:"deletedSubmission"},{t:3,v:"更新資料"}]}},deletedSubmission:{t:0,b:{t:2,i:[{t:3,v:"(已刪除提交"},{t:4,k:"id"},{t:3,v:")"}]}}}},api:{t:0,b:{t:2,i:[{t:3,v:"由"},{t:4,k:"name"},{t:3,v:"更親資料"}]}}},update_resolve:{t:0,b:{t:2,i:[{t:3,v:"衝突警告已由"},{t:4,k:"name"},{t:3,v:"解決"}]}},delete:{t:0,b:{t:2,i:[{t:3,v:"由"},{t:4,k:"name"},{t:3,v:"刪除的實體"},{t:4,k:"label"}]}},restore:{t:0,b:{t:2,i:[{t:3,v:"由"},{t:4,k:"name"},{t:3,v:"恢復的實體"},{t:4,k:"label"}]}}}},offlineUpdate:{t:0,b:{t:2,i:[{t:3}],s:"離線更新"}}}}})}const Ze={class:"deleted-submission"},Ge={class:"entity-label"},Ye={class:"entity-label"},Xe={class:"entity-version-tag"},ti={class:"bulk-event"},ei={class:"entity-label"},ii={class:"bulk-source"},ai={class:"source-name"},si={class:"deleted-submission"},ni={class:"entity-version-tag"},oi={class:"entity-label"},ot=Object.assign({name:"EntityFeedEntry"},{__name:"feed-entry",props:{entry:{type:Object,required:!0},submission:Object,entityVersion:Object},emits:["branch-data"],setup(e,{emit:t}){const m=e,o=t,d=A("projectId"),l=A("datasetName");L("entityVersion",m.entityVersion);const{entity:u}=P(),r=j(()=>{const{action:$}=m.entry;return $==="submission.create"||$==="entity.create"||$==="entity.bulk.create"||$==="entity.update.version"}),{t:f}=F(),y=$=>f($,{id:m.submission.instanceId}),_=$=>`#v${$}`,z=A("config"),R=()=>{z.devTools&&o("branch-data",m.entityVersion.version)};return($,p)=>{const k=M("i18n-t"),w=M("router-link");return a(),g(le,{iso:e.entry.loggedAt,"wrap-title":r.value,class:"entity-feed-entry"},{title:b(()=>[e.entry.action==="submission.create"?(a(),c(C,{key:0},[p[0]||(p[0]=i("span",{class:"icon-cloud-upload"},null,-1)),e.submission.currentVersion!=null?(a(),g(k,{key:0,keypath:"title.submission.create.notDeleted"},{instanceName:b(()=>[v(Z,{"project-id":s(d),"xml-form-id":e.submission.xmlFormId,submission:e.submission},null,8,["project-id","xml-form-id","submission"])]),submitter:b(()=>[v(I,{actor:e.submission.submitter},null,8,["actor"])]),_:1})):(a(),g(k,{key:1,keypath:"title.submission.create.deleted.full"},{deletedSubmission:b(()=>[i("span",Ze,n(y("title.submission.create.deleted.deletedSubmission")),1)]),name:b(()=>[v(I,{actor:e.submission.submitter},null,8,["actor"])]),_:1}))],64)):e.entry.action==="submission.update"?(a(),g(k,{key:1,keypath:"title.submission.approval.full"},{reviewState:b(()=>[v(ue,{value:"approved","color-text":""},{default:b(()=>[V(n($.$t("title.submission.approval.reviewState")),1)]),_:1})]),name:b(()=>[v(I,{actor:e.entry.actor},null,8,["actor"])]),_:1})):e.entry.action==="entity.create"?(a(),c(C,{key:2},[p[1]||(p[1]=i("span",{class:"icon-magic-wand"},null,-1)),e.entry.details.source?.submission!=null?(a(),g(k,{key:0,keypath:"title.entity.create.submission"},{label:b(()=>[i("span",Ge,n(s(u).currentVersion.label),1)]),dataset:b(()=>[v(bt,{"project-id":s(d),name:s(l)},null,8,["project-id","name"])]),_:1})):(a(),g(k,{key:1,keypath:"title.entity.create.api"},{label:b(()=>[i("span",Ye,n(s(u).currentVersion.label),1)]),name:b(()=>[v(I,{actor:e.entry.actor},null,8,["actor"])]),_:1})),i("span",Xe,[v(w,{to:_(1)},{default:b(()=>[V(n($.$t("common.versionShort",e.entityVersion)),1)]),_:1},8,["to"])]),e.entityVersion.branch!=null?(a(),c("span",{key:2,class:"offline-update",onClick:R},n($.$t("offlineUpdate")),1)):S("",!0)],64)):e.entry.action==="entity.bulk.create"?(a(),c(C,{key:3},[p[2]||(p[2]=i("span",{class:"icon-cloud-upload"},null,-1)),i("div",ti,[v(k,{keypath:"title.entity.create.submission"},{label:b(()=>[i("span",ei,n(s(u).currentVersion.label),1)]),dataset:b(()=>[v(bt,{"project-id":s(d),name:s(l)},null,8,["project-id","name"])]),_:1})]),i("div",ii,[v(k,{keypath:"title.entity.create.bulkSource"},{name:b(()=>[i("span",ai,n(e.entry.details.source.name),1)]),actor:b(()=>[v(I,{actor:e.entry.actor},null,8,["actor"])]),_:1})])],64)):e.entry.action==="entity.update.version"?(a(),c(C,{key:4},[p[3]||(p[3]=i("span",{class:"icon-pencil"},null,-1)),e.submission!=null?(a(),c(C,{key:0},[e.submission.currentVersion!=null?(a(),g(k,{key:0,keypath:"title.entity.update_version.submission.notDeleted"},{instanceName:b(()=>[v(Z,{"project-id":s(d),"xml-form-id":e.submission.xmlFormId,submission:e.submission},null,8,["project-id","xml-form-id","submission"])]),_:1})):(a(),g(k,{key:1,keypath:"title.entity.update_version.submission.deleted.full"},{deletedSubmission:b(()=>[i("span",si,n(y("title.entity.update_version.submission.deleted.deletedSubmission")),1)]),_:1}))],64)):(a(),g(k,{key:1,keypath:"title.entity.update_version.api"},{name:b(()=>[v(I,{actor:e.entry.actor},null,8,["actor"])]),_:1})),i("span",ni,[v(w,{to:_(e.entityVersion.version)},{default:b(()=>[V(n($.$t("common.versionShort",e.entityVersion)),1)]),_:1},8,["to"])]),e.entityVersion.branch!=null?(a(),c("span",{key:2,class:"offline-update",onClick:R},n($.$t("offlineUpdate")),1)):S("",!0)],64)):e.entry.action==="entity.update.resolve"?(a(),c(C,{key:5},[p[4]||(p[4]=i("span",{class:"icon-random"},null,-1)),v(k,{keypath:"title.entity.update_resolve"},{name:b(()=>[v(I,{actor:e.entry.actor},null,8,["actor"])]),_:1})],64)):e.entry.action==="entity.delete"?(a(),c(C,{key:6},[p[5]||(p[5]=i("span",{class:"icon-trash"},null,-1)),v(k,{keypath:"title.entity.delete"},{name:b(()=>[v(I,{actor:e.entry.actor},null,8,["actor"])]),_:1})],64)):e.entry.action==="entity.restore"?(a(),c(C,{key:7},[p[6]||(p[6]=i("span",{class:"icon-recycle"},null,-1)),v(k,{keypath:"title.entity.restore"},{label:b(()=>[i("span",oi,n(s(u).currentVersion.label),1)]),name:b(()=>[v(I,{actor:e.entry.actor},null,8,["actor"])]),_:1})],64)):S("",!0)]),body:b(()=>[e.entityVersion!=null&&e.entityVersion.version!==1?(a(),g(nt,{key:0})):S("",!0)]),_:1},8,["iso","wrap-title"])}}});typeof St=="function"&&St(ot);typeof wt=="function"&&wt(ot);function Dt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{action:{delete:{t:0,b:{t:2,i:[{t:3}],s:"Delete Entity"}}}}}})}function Vt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{de:{action:{delete:{t:0,b:{t:2,i:[{t:3}],s:"Entität löschen"}}}},es:{action:{delete:{t:0,b:{t:2,i:[{t:3}],s:"Borrar entidad"}}}},fr:{action:{delete:{t:0,b:{t:2,i:[{t:3}],s:"Supprimer l'entité"}}}},it:{action:{delete:{t:0,b:{t:2,i:[{t:3}],s:"Elimina Entità"}}}},pt:{action:{delete:{t:0,b:{t:2,i:[{t:3}],s:"Excluir Entidade"}}}},"zh-Hant":{action:{delete:{t:0,b:{t:2,i:[{t:3}],s:"刪除實體"}}}}}})}const lt=Object.assign({name:"EntityActivity"},{__name:"activity",emits:["delete","resolve","branch-data"],setup(e){const{project:t,dataset:m,entity:o,audits:d,entityVersions:l,resourceStates:u}=P(),{initiallyLoading:r,dataExists:f}=u([t,m,o,d,l]),y=j(()=>{const p=[];let k=l.length-1;for(const w of d){const{action:D}=w;if(D==="entity.update.version"){const{submission:h}=w.details.source,N=l[k];k-=1,p.push([{entry:w,submission:h,entityVersion:N}])}else if(D==="entity.create"||D==="entity.bulk.create"){const h=[{entry:w,entityVersion:l[0]}],{details:N}=w;N.source?.event?.action==="submission.update"&&h.push({entry:N.source.event}),N.source?.submission!=null&&h.push({entry:{action:"submission.create",loggedAt:N.source.submission.createdAt},submission:N.source.submission}),p.push(h)}else p.push([{entry:w}])}return p}),_=H(null),z=Lt();Q(()=>{const p=z.hash.match(/^#v(\d+)$/);_.value=p!=null?Number.parseInt(p[1],10):null}),Mt(()=>d.awaitingResponse,p=>{p&&(_.value=null)});const R=p=>{const k=p.entityVersion?.version;return k==null?{}:{"data-version":k,class:k===_.value?"scroll-target":null}},$=Ft();return Q(()=>{_.value!=null&&f.value&&Kt(()=>{$(`#entity-activity [data-version="${_.value}"]`)})}),(p,k)=>(a(),g(tt,{id:"entity-activity"},{heading:b(()=>[i("span",null,n(p.$t("common.activity")),1),s(t).dataExists&&s(t).permits("entity.delete")?(a(),c("button",{key:0,id:"entity-activity-delete-button",type:"button",class:"btn btn-default",onClick:k[0]||(k[0]=w=>p.$emit("delete"))},[k[3]||(k[3]=i("span",{class:"icon-trash"},null,-1)),V(n(p.$t("action.delete")),1)])):S("",!0)]),body:b(()=>[v(X,{state:s(r)},null,8,["state"]),s(f)?(a(),c(C,{key:0},[s(o).conflict!=null?(a(),g(Se,{key:0,onResolve:k[1]||(k[1]=w=>p.$emit("resolve"))})):S("",!0),(a(!0),c(C,null,W(y.value,(w,D)=>(a(),c("div",B({key:y.value.length-D,class:"feed-entry-group"},{ref_for:!0},R(w[0])),[(a(!0),c(C,null,W(w,(h,N)=>(a(),g(ot,B({key:N},{ref_for:!0},h,{onBranchData:k[2]||(k[2]=x=>p.$emit("branch-data",x))}),null,16))),128))],16))),128))],64)):S("",!0)]),_:1}))}});typeof Dt=="function"&&Dt(lt);typeof Vt=="function"&&Vt(lt);function zt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{entityDetails:{t:0,b:{t:2,i:[{t:3}],s:"Entity Details"}},creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"Creating Submission"}},creatingSource:{t:0,b:{t:2,i:[{t:3}],s:"Creating source"}},upload:{t:0,b:{t:2,i:[{t:3}],s:"Upload"}},submissionDeleted:{t:0,b:{t:2,i:[{t:3}],s:"This Submission has been deleted."}}}}})}function Ct(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"Vytvoření podání"}},submissionDeleted:{t:0,b:{t:2,i:[{t:3}],s:"Toto podání bylo smazáno."}}},de:{entityDetails:{t:0,b:{t:2,i:[{t:3}],s:"Entitätsdetails"}},creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"Übermittlung erstellen"}},creatingSource:{t:0,b:{t:2,i:[{t:3}],s:"Quelle erstellen"}},upload:{t:0,b:{t:2,i:[{t:3}],s:"Hochladen"}},submissionDeleted:{t:0,b:{t:2,i:[{t:3}],s:"Diese Übermittlungen wurde gelöscht."}}},es:{entityDetails:{t:0,b:{t:2,i:[{t:3}],s:"Detalles de la entidad"}},creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"Creando envío"}},creatingSource:{t:0,b:{t:2,i:[{t:3}],s:"Creando fuente"}},upload:{t:0,b:{t:2,i:[{t:3}],s:"Subir"}},submissionDeleted:{t:0,b:{t:2,i:[{t:3}],s:"Este envío ha sido borrado."}}},fr:{entityDetails:{t:0,b:{t:2,i:[{t:3}],s:"Détail de l'entité"}},creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"Soumission à l'origine de l'entité"}},creatingSource:{t:0,b:{t:2,i:[{t:3}],s:"Création de la source"}},upload:{t:0,b:{t:2,i:[{t:3}],s:"Envoi"}},submissionDeleted:{t:0,b:{t:2,i:[{t:3}],s:"La Soumission a été supprimée."}}},id:{creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"Membuat Kiriman Data"}}},it:{entityDetails:{t:0,b:{t:2,i:[{t:3}],s:"Dettaglio Entità"}},creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"Creando invio"}},creatingSource:{t:0,b:{t:2,i:[{t:3}],s:"Creazione della fonte"}},upload:{t:0,b:{t:2,i:[{t:3}],s:"Carica"}},submissionDeleted:{t:0,b:{t:2,i:[{t:3}],s:"Questo invio è stato eliminato."}}},pt:{entityDetails:{t:0,b:{t:2,i:[{t:3}],s:"Detalhes da Entidade"}},creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"Criando Resposta"}},creatingSource:{t:0,b:{t:2,i:[{t:3}],s:"Criando fonte"}},upload:{t:0,b:{t:2,i:[{t:3}],s:"Fazer upload"}},submissionDeleted:{t:0,b:{t:2,i:[{t:3}],s:"Esta Resposta foi excluída."}}},sw:{creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"Kuunda Uwasilishaji"}},submissionDeleted:{t:0,b:{t:2,i:[{t:3}],s:"Wasilisho hili limefutwa."}}},"zh-Hant":{entityDetails:{t:0,b:{t:2,i:[{t:3}],s:"實體詳細資料"}},creatingSubmission:{t:0,b:{t:2,i:[{t:3}],s:"建立提交"}},creatingSource:{t:0,b:{t:2,i:[{t:3}],s:"建立來源"}},upload:{t:0,b:{t:2,i:[{t:3}],s:"更新"}},submissionDeleted:{t:0,b:{t:2,i:[{t:3}],s:"此提交已被刪除"}}}}})}const li={key:0},ri={key:0},ui={id:"entity-basic-details-creating-submission"},di={class:"icon-trash"},ci={class:"sr-only"},bi={key:1},mi={id:"entity-basic-details-creating-source"},rt=Object.assign({name:"EntityBasicDetails"},{__name:"basic-details",setup(e){const t=A("projectId"),{entity:m,audits:o}=P(),d=H(void 0),l=H(void 0);return Q(()=>{if(!o.dataExists||d.value!==void 0)return;const u=o.find(({action:r})=>r==="entity.create"||r==="entity.bulk.create");u!=null&&(l.value=u.details.source?.submission,d.value=u.details.source)}),(u,r)=>{const f=Y("tooltip");return a(),g(tt,{id:"entity-basic-details"},{heading:b(()=>[i("span",null,[r[0]||(r[0]=i("span",{class:"icon-database"},null,-1)),V(n(u.$t("entityDetails")),1)])]),body:b(()=>[s(m).dataExists?(a(),c("dl",li,[i("div",null,[i("dt",null,n(u.$t("entity.entityId")),1),i("dd",null,n(s(m).uuid),1)]),l.value!=null?(a(),c("div",ri,[i("dt",null,n(u.$t("creatingSubmission")),1),i("dd",ui,[l.value.currentVersion!=null?(a(),g(Z,{key:0,"project-id":s(t),"xml-form-id":l.value.xmlFormId,submission:l.value},null,8,["project-id","xml-form-id","submission"])):(a(),c(C,{key:1},[q(i("span",di,null,512),[[f,void 0,void 0,{"sr-only":!0}]]),i("span",null,n(l.value.instanceId),1),i("span",ci," "+n(u.$t("submissionDeleted")),1)],64))])])):d.value?.name!=null?(a(),c("div",bi,[i("dt",null,n(u.$t("creatingSource")),1),i("dd",mi,n(u.$t("upload")),1)])):S("",!0),i("div",null,[i("dt",null,n(u.$t("header.createdAt")),1),i("dd",null,[v(de,{iso:s(m).createdAt},null,8,["iso"])])]),i("div",null,[i("dt",null,n(u.$t("header.createdBy")),1),i("dd",null,[v(I,{actor:s(m).creator},null,8,["actor"])])])])):S("",!0)]),_:1})}}});typeof zt=="function"&&zt(rt);typeof Ct=="function"&&Ct(rt);const vi={key:0},pi=Object.assign({name:"EntityData"},{__name:"data",emits:["update"],setup(e){const{project:t,dataset:m,entity:o,resourceStates:d}=P(),{dataExists:l}=d([m,o]),u=j(()=>t.dataExists&&t.permits("entity.update")&&m.dataExists),r=j(()=>o.currentVersion.data);return(f,y)=>(a(),g(tt,{id:"entity-data"},{heading:b(()=>[i("span",null,n(f.$t("common.data")),1),u.value?(a(),c("button",{key:0,id:"entity-data-update-button",type:"button",class:"btn btn-default",onClick:y[0]||(y[0]=_=>f.$emit("update"))},[y[1]||(y[1]=i("span",{class:"icon-pencil"},null,-1)),V(n(f.$t("action.edit")),1)])):S("",!0)]),body:b(()=>[v(X,{state:s(m).initiallyLoading},null,8,["state"]),s(l)?(a(),c("dl",vi,[(a(!0),c(C,null,W(s(m).properties,({name:_})=>(a(),c("div",{key:_},[v(ce,{name:_,value:r.value[_]},null,8,["name","value"])]))),128))])):S("",!0)]),_:1}))}}),fi=()=>{const{createResource:e}=P(),t=e("entity",()=>({transformResponse:({data:o})=>Jt(o)})),m=e("audits");return{entity:t,audits:m}};function jt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{back:{title:{t:0,b:{t:2,i:[{t:3}],s:"Entity Detail"}},back:{t:0,b:{t:2,i:[{t:3,v:"Back to "},{t:4,k:"datasetName"},{t:3,v:" Table"}]}}}}}})}function Et(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{cs:{back:{title:{t:0,b:{t:2,i:[{t:3}],s:"Detail entity"}},back:{t:0,b:{t:2,i:[{t:3,v:"Zpět na tabulku "},{t:4,k:"datasetName"}]}}}},de:{back:{title:{t:0,b:{t:2,i:[{t:3}],s:"Entitätsdetail"}},back:{t:0,b:{t:2,i:[{t:3,v:"Zurück zu "},{t:4,k:"datasetName"},{t:3,v:" Tabelle"}]}}}},es:{back:{title:{t:0,b:{t:2,i:[{t:3}],s:"Detalles de la entidad"}},back:{t:0,b:{t:2,i:[{t:3,v:"Volver a la tabla "},{t:4,k:"datasetName"}]}}}},fr:{back:{title:{t:0,b:{t:2,i:[{t:3}],s:"Détail de l'entité"}},back:{t:0,b:{t:2,i:[{t:3,v:"Retour à la table "},{t:4,k:"datasetName"}]}}}},it:{back:{title:{t:0,b:{t:2,i:[{t:3}],s:"Dettaglio Entità"}},back:{t:0,b:{t:2,i:[{t:3,v:"Indietro alla Tabella "},{t:4,k:"datasetName"}]}}}},pt:{back:{title:{t:0,b:{t:2,i:[{t:3}],s:"Detalhes da Entidade"}},back:{t:0,b:{t:2,i:[{t:3,v:"Voltar para a Tabela "},{t:4,k:"datasetName"}]}}}},sw:{back:{title:{t:0,b:{t:2,i:[{t:3}],s:"Data ya Huluki"}},back:{t:0,b:{t:2,i:[{t:3,v:"Rudi kwenye Jedwali la "},{t:4,k:"datasetName"}]}}}},"zh-Hant":{back:{title:{t:0,b:{t:2,i:[{t:3}],s:"實體詳細資訊"}},back:{t:0,b:{t:2,i:[{t:3,v:"回到 "},{t:4,k:"datasetName"},{t:3,v:" 表"}]}}}}}})}const ki={id:"entity-show"},yi={class:"row"},hi={class:"col-xs-4"},gi={class:"col-xs-8"},Rt=Object.assign({name:"EntityShow"},{__name:"show",props:{projectId:{type:String,required:!0},datasetName:{type:String,required:!0},uuid:{type:String,required:!0}},setup(e){const t=e;L("projectId",t.projectId),L("datasetName",t.datasetName),L("uuid",t.uuid);const{project:m,dataset:o,resourceStates:d}=P(),{entity:l,audits:u}=fi(),r=ae(),{initiallyLoading:f,dataExists:y}=d([m,l]);Promise.allSettled([l.request({url:O.entity(t.projectId,t.datasetName,t.uuid),extended:!0}),m.request({url:O.project(t.projectId),extended:!0,resend:!1}),o.request({url:O.dataset(t.projectId,t.datasetName),extended:!0})]);const _=()=>Promise.allSettled([u.request({url:O.entityAudits(t.projectId,t.datasetName,t.uuid)}),r.request({url:O.entityVersions(t.projectId,t.datasetName,t.uuid),extended:!0})]);_(),Qt(()=>[l.dataExists?l.currentVersion.label:null]);const z=J(),{i18n:R,alert:$,config:p}=A("container"),k=U=>{_(),z.hide(),$.success(R.t("alert.updateEntity")),l.currentVersion=U.currentVersion,l.updatedAt=U.updatedAt,l.conflict=U.conflict},w=J(),{request:D,awaitingResponse:h}=It(),N=Zt(),{datasetPath:x,projectPath:Pt}=Nt(),{t:ut}=F(),Ot=()=>{D({method:"DELETE",url:O.entity(t.projectId,t.datasetName,t.uuid)}).then(()=>{const{label:U}=l.currentVersion;return N.push(x("entities")).then(()=>{$.success(ut("alert.entityDeleted",{label:U}))})}).catch(At)},qt=Gt(Yt("EntityBranchData")),K=J("EntityBranchData"),Ut=j(()=>[{text:m.dataExists?m.nameWithArchived:ut("resource.project"),path:Pt("entity-lists"),icon:"icon-archive"},{text:t.datasetName,path:x(),icon:"icon-database"},{text:l.currentVersion.label}]);return(U,E)=>(a(),c("div",ki,[s(y)?(a(),g(te,{key:0,links:Ut.value},null,8,["links"])):S("",!0),q(v(be,null,{title:b(()=>[V(n(s(l).dataExists?s(l).currentVersion.label:""),1)]),_:1},512),[[dt,s(y)]]),v(Xt,null,{default:b(()=>[v(X,{state:s(f)},null,8,["state"]),q(i("div",yi,[i("div",hi,[v(rt),v(pi,{onUpdate:E[0]||(E[0]=T=>s(z).show())})]),i("div",gi,[v(lt,{onDelete:E[1]||(E[1]=T=>s(w).show()),onResolve:_,onBranchData:E[2]||(E[2]=T=>s(K).show({highlight:T}))})])],512),[[dt,s(y)]])]),_:1}),v(se,B(s(z),{entity:s(l).dataExists?s(l).data:null,onHide:E[3]||(E[3]=T=>s(z).hide()),onSuccess:k}),null,16,["entity"]),v(ne,B(s(w),{entity:s(l).currentVersion,"awaiting-response":s(h),onHide:E[4]||(E[4]=T=>s(w).hide()),onDelete:Ot}),null,16,["entity","awaiting-response"]),s(p).devTools?(a(),g(s(qt),B({key:1},s(K),{onHide:E[5]||(E[5]=T=>s(K).hide())}),null,16)):S("",!0)]))}});typeof jt=="function"&&jt(Rt);typeof Et=="function"&&Et(Rt);export{Rt as default};
