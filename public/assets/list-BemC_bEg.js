import{_ as z,a as q,n as C,D as v,u as N,r as b,l as L,c as d,o as u,d as a,q as f,f as V,t as l,e as p,F as A,j as M,L as T,M as W,i as k,w as $,p as S,g as D,C as x}from"./index-BJJ6YbMy.js";import{u as E}from"./request--gXHIWga.js";import{_ as I}from"./search-textbox-BnGh0h4l.js";function R(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"You may not edit your own Project Role."}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Project Role"}}}}}})}function w(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{cs:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"Nemůžete upravovat svou vlastní roli projektu."}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Role projektu"}}}},de:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"Sie dürfen Ihre eigene Projektrolle nicht bearbeiten."}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Projektrolle"}}}},es:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"No puede editar su propio rol en el proyecto"}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Rol en el proyecto"}}}},fr:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"Vous ne pouvez pas modifier votre propre rôle dans le projet."}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Rôle dans le projet"}}}},id:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"Anda tidak dapat mengubah Peran Proyek Anda sendiri."}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Peran Proyek"}}}},it:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"Non puoi modificare il tuo ruolo nel progetto."}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Ruolo del progetto"}}}},ja:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"自分自身のプロジェクトの役割を変更することはできません。"}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"プロジェクトでの役割"}}}},pt:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"Você não pode alterar a sua própria função no projeto."}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Função de projeto"}}}},sw:{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"Huenda usihariri Jukumu lako la Mradi."}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Jukumu la Mradi"}}}},"zh-Hant":{cannotAssignRole:{t:0,b:{t:2,i:[{t:3}],s:"您不得編輯自己的專案角色。"}},field:{projectRole:{t:0,b:{t:2,i:[{t:3}],s:"專案角色"}}}}}})}const j={name:"ProjectUserRow",components:{Spinner:q},props:{assignment:{type:Object,required:!0}},emits:["increment-count","decrement-count","change"],setup(){const{currentUser:t,roles:e,project:o}=N(),{request:s,awaitingResponse:n}=E();return{currentUser:t,roles:e,project:o,request:s,awaitingResponse:n}},data(){return{selectedRoleId:this.assignment.roleId!=null?this.assignment.roleId.toString():""}},computed:{disabled(){return this.assignment.actor.id===this.currentUser.id}},methods:{requestChange(t,e){return e===""?Promise.resolve():this.request({method:t,url:v.projectAssignment(this.project.id,e,this.assignment.actor.id)})},change(t){this.$emit("increment-count");const e=this.selectedRoleId;this.selectedRoleId=t;const o=this.$route;this.requestChange("DELETE",e).then(()=>this.requestChange("POST",t).catch(s=>{throw e!==""&&t!==""&&this.$route===o&&(this.selectedRoleId="",this.$emit("change",this.assignment.actor,null,!0)),s})).then(()=>{const s=t!==""?this.roles.find(n=>n.id.toString()===t):null;this.$emit("change",this.assignment.actor,s,!1)}).catch(C).finally(()=>{this.$route===o&&this.$emit("decrement-count")})}}},U={class:"display-name"},F={class:"form-group"},B=["value","aria-label","aria-disabled"],O=["value"],H={value:""};function J(t,e,o,s,n,i){const c=b("spinner"),m=L("tooltip");return u(),d("tr",null,[a("td",U,[f((u(),d("span",null,[V(l(o.assignment.actor.displayName),1)])),[[m,void 0,void 0,{text:!0}]])]),a("td",null,[a("form",null,[a("div",F,[f((u(),d("select",{class:"form-control",value:n.selectedRoleId,"aria-label":t.$t("field.projectRole"),"aria-disabled":i.disabled||s.awaitingResponse,onChange:e[0]||(e[0]=r=>i.change(r.target.value))},[(u(!0),d(A,null,M(s.roles.projectRoles,r=>(u(),d("option",{key:r.id,value:r.id.toString()},l(t.$t(`role.${r.system}`)),9,O))),128)),a("option",H,l(t.$t("role.none")),1)],40,B)),[[m,i.disabled?t.$t("cannotAssignRole"):null,void 0,{"aria-describedby":!0}]]),p(c,{state:s.awaitingResponse},null,8,["state"])])])])])}typeof R=="function"&&R(j);typeof w=="function"&&w(j);const G=z(j,[["render",J]]);function _(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Sitewide Administrators are automatically considered Managers of every Project. Other Users can have Roles specific to this Project:"}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:" can perform any administrative task related to this Project and can fill Forms out in a web browser"}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"Project Managers"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectViewers"},{t:3,v:" can access and download all Form and Entity data in this Project, but cannot make any changes to settings or data"}]}},projectViewers:{t:0,b:{t:2,i:[{t:3}],s:"Project Viewers"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:" can fill Forms out in a web browser, but cannot view or change data or settings"}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"Data Collectors"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"Search for a user…"}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"Enter exact user email address…"}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"User"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Project Role"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"There are no users assigned to this Project yet. To add one, search for a user above."}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:"Something went wrong. “"},{t:4,k:"displayName"},{t:3,v:"” has been removed from the Project."}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:"Success! “"},{t:4,k:"displayName"},{t:3,v:"” has been given a Role of “"},{t:4,k:"roleName"},{t:3,v:"” on this Project."}]}},unassignRole:{t:0,b:{t:2,i:[{t:3,v:"“"},{t:4,k:"displayName"},{t:3,v:"” has been removed from this Project."}]}}}}}})}function P(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{cs:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Administrátoři celého webu jsou automaticky považováni za manažery každého projektu. Ostatní uživatelé mohou mít role specifické pro tento projekt:"}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:" mohou provádět jakékoli administrativní úkoly související s tímto projektem a mohou vyplnit formuláře ve webovém prohlížeči"}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"Projektoví manažeři"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectViewers"},{t:3,v:" může přistupovat ke všem datům formulářů a entit v tomto projektu a stahovat je, ale nemůže provádět žádné změny nastavení nebo dat."}]}},projectViewers:{t:0,b:{t:2,i:[{t:3}],s:"Prohlížeči Projektu"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:" mohou vyplnit formuláře ve webovém prohlížeči, ale nemohou zobrazit ani změnit data nebo nastavení"}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"Sběrači dat"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"Vyhledat uživatele…"}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"Zadejte přesnou e-mailovou adresu uživatele ..."}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"Uživatel"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Role Projektu"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"K tomuto projektu zatím nejsou přiřazeni žádní uživatelé. Chcete-li přidat jednoho, vyhledejte uživatele výše."}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:"Něco se pokazilo. „"},{t:4,k:"displayName"},{t:3,v:"“ Byl z projektu odstraněn."}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:"Úspěch! Pro „"},{t:4,k:"displayName"},{t:3,v:"“ byla v tomto projektu udělena role „"},{t:4,k:"roleName"},{t:3,v:"“."}]}}}},de:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Seitenweite Administratoren sind automatisch Manager in jedem Projekt. Andere Benutzer können Rollen spezifisch für dieses Projekt haben:"}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:" können jede administrative Aufgabe im Zusammenhang mit diesem Projekt ausführen und können Formulare in einem Webbrowser ausfüllen."}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"Projekt-Manager"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectViewers"},{t:3,v:" können auf alle Formular- und Entitätsdaten in diesem Projekt zugreifen und sie herunterladen, können jedoch keine Änderungen an Einstellungen oder Daten vornehmen."}]}},projectViewers:{t:0,b:{t:2,i:[{t:3}],s:"Projekt-Viewer"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:" können Formulare in einem Webbrowser ausfüllen, aber können keine Daten oder Einstellungen anzeigen oder ändern."}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"Datensammler"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"Suche nach einem Benutzer..."}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"Genaue Benutzer-E-Mail-Adresse eingeben..."}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"Benutzer"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Projektrolle"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"Es wurden noch keine Benutzer diesem Projekt zugewiesen. Um einen hinzuzufügen, suchen Sie oben nach einem Benutzer."}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:'Irgendetwas hat nicht funktioniert. "'},{t:4,k:"displayName"},{t:3,v:'" wurde aus diesem Projekt entfernt.'}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:'"'},{t:4,k:"displayName"},{t:3,v:'" wurde erfolgreich die Rolle eines "'},{t:4,k:"roleName"},{t:3,v:'" in diesem Projekt zugewiesen.'}]}}}},es:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Los administradores de todo el sitio se consideran automáticamente administradores de cada proyecto. Otros usuarios pueden tener roles específicos para este proyecto:"}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:" pueden realizar cualquier tarea administrativa relacionada con este proyecto y puede llenar formularios desde un navegador web"}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"Administradores de proyecto"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectViewers"},{t:3,v:" puede acceder y descargar todos los datos de formularios y entidades en este proyecto, pero no puede realizar ningún cambio en la configuración o los datos."}]}},projectViewers:{t:0,b:{t:2,i:[{t:3}],s:"Visores de proyecto"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:" pueden llenar formularios desde un navegador web, pero no pueden ver o cambiar datos o configuraciones"}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"Recolectores de datos"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"Buscar un usuario..."}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"Ingrese el correo electrónico del usuario"}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"Usuario"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Rol en el proyecto"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"No se han asignado usuarios a este proyecto. Para agregar uno, busque un usuario en la parte superior."}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:'Algo salió mal. "'},{t:4,k:"displayName"},{t:3,v:'" ha sido removido del proyecto'}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:'A "'},{t:4,k:"displayName"},{t:3,v:'" se le ha asignado exitosamente el rol de "'},{t:4,k:"roleName"},{t:3,v:'" en este proyecto.'}]}},unassignRole:{t:0,b:{t:2,i:[{t:3,v:'"'},{t:4,k:"displayName"},{t:3,v:'" ha sido removido de este proyecto.'}]}}}},fr:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Les administrateurs sur l'ensemble du site sont automatiquement considérés comme gestionnaires de chaque projet. Les autres utilisateurs peuvent avoir des rôles spécifiques à ce projet:"}},{full:{t:0,b:{t:2,i:[{t:3,v:"Les "},{t:4,k:"projectManagers"},{t:3,v:" peuvent exécuter toutes les tâches administratives liées à ce projet et peuvent remplir des formulaires depuis leurs navigateurs."}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"gestionnaires de projet"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectViewers"},{t:3,v:" peut/peuvent accéder et télécharger tous les Formulaires et entités dans ce Projet, mais ne peut/peuvent apporter aucun changement aux paramètres ou aux données."}]}},projectViewers:{t:0,b:{t:2,i:[{t:3}],s:"lecteurs de projet"}}},{full:{t:0,b:{t:2,i:[{t:3,v:"Les "},{t:4,k:"dataCollectors"},{t:3,v:" peuvent remplir des formulaires depuis leur navigateur mais n'ont aucun accès aux données ou paramètres du projet."}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"collecteurs de données"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"Rechercher un utilisateur..."}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"Entrez l'adresse de courriel exacte de l'utilisateur..."}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"Utilisateur"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Rôle dans le projet"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"Il n'y a pas encore d'utilisateurs affectés à ce projet. Pour en ajouter un, recherchez un utilisateur ci-dessus."}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:'Quelque chose a mal tourné. "'},{t:4,k:"displayName"},{t:3,v:'" a été retiré du projet.'}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:'Succès ! "'},{t:4,k:"displayName"},{t:3,v:'" a reçu un rôle de "'},{t:4,k:"roleName"},{t:3,v:'" dans ce projet.'}]}},unassignRole:{t:0,b:{t:2,i:[{t:3,v:"“"},{t:4,k:"displayName"},{t:3,v:"” a été retiré de ce projet."}]}}}},id:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Administrator seluruh situs akan secara otomatis dikenali sebagai Manajer dari setiap Proyek. Pengguna lainnya bisa memiliki Peran spesifik dalam Proyek ini:"}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:" bisa melakukan pekerjaan administratif apapun sehubungan dengan Proyek ini dan bisa mengisi formulir lewat web browser."}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"Manajer Proyek"}}},{},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:" dapat mengisi formulir di web browser, tetapi tidak bisa melihat atau mengubah data atau pengaturan."}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"Pengumpul Data"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"Cari pengguna..."}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"Masukkan email pengguna..."}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"Pengguna"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Peran Proyek"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"Belum ada Pengguna yang ditugaskan dalam Proyek ini. Untuk menambah Pengguna, cari nama Pengguna di atas."}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:'Terjadi kesalahan. "'},{t:4,k:"displayName"},{t:3,v:'" sudah dihapus dari Proyek.'}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:'Berhasil! "'},{t:4,k:"displayName"},{t:3,v:'" telah diberikan Peran sebagai "'},{t:4,k:"roleName"},{t:3,v:'" dalam Proyek ini.'}]}}}},it:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Gli Amministratori di tutto il sito sono automaticamente considerati Responsabili di ogni Progetto. Altri utenti possono avere ruoli specifici per questo progetto:"}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:" possono eseguire qualsiasi attività amministrativa relativa a questo progetto e possono compilare formulari in un browser web"}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"Responsabili del progetto"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectViewers"},{t:3,v:" possono accedere e scaricare tutti i dati del formulario e delle Entità di questo progetto, ma non possono apportare modifiche alle impostazioni o ai dati"}]}},projectViewers:{t:0,b:{t:2,i:[{t:3}],s:"Visualizzatori del progetto"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:" possono compilare i formulari in un browser Web, ma non possono visualizzare o modificare i dati o le impostazioni"}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"Raccoglitori di dati"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"Cerca un utente..."}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"Inserisci l'esatto indirizzo email dell'utente..."}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"Utente"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Ruolo del progetto"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"Non ci sono ancora utenti assegnati a questo progetto. Per aggiungerne uno, cerca un utente sopra."}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:"Qualcosa è andato storto. “"},{t:4,k:"displayName"},{t:3,v:"” è stato rimosso dal progetto."}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:'Successo! A "'},{t:4,k:"displayName"},{t:3,v:'" è stato assegnato un ruolo di "'},{t:4,k:"roleName"},{t:3,v:'" in questo progetto.'}]}},unassignRole:{t:0,b:{t:2,i:[{t:3,v:'"'},{t:4,k:"displayName"},{t:3,v:'" è stato rimosso da questo progetto.'}]}}}},ja:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"サーバー管理者は、自動的に全てのプロジェクトの管理者となります。その他のユーザーは、このプロジェクトに限定した役割を持つことができます。"}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:"は、このプロジェクトに関連するあらゆる管理作業を行うことができ、Webブラウザでフォームを入力できます。"}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"プロジェクト・マネージャー"}}},{},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:"は、Webブラウザでフォームを入力できますが、データや設定を閲覧・変更はできません。"}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"データ収集者"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"ユーザーの検索"}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"正確なユーザーのメールアドレスを入力する。"}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"ユーザー"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"プロジェクトでの役割"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"このプロジェクトに割り当てられたユーザーはまだいません。ユーザーを追加するには、上の検索ボックスでユーザーを検索してください。"}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:'問題が発生しました 。"'},{t:4,k:"displayName"},{t:3,v:'"はプロジェクトから除外されました。'}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:'成功です！"'},{t:4,k:"displayName"},{t:3,v:'"には、このプロジェクトで"'},{t:4,k:"roleName"},{t:3,v:'"の役割が割当てられました。'}]}}}},pt:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Administradores são automaticamente considerados gerentes de todos os projetos. Outros usuários de site podem ter funções específicas para esse projeto:"}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:" podem realizar qualquer tarefa administrativa relacionada a esse projeto e podem preencher formulários no navegador de internet."}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"Gerentes de projeto"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectViewers"},{t:3,v:" podem acessar e baixar todos os dados de Formulários e Entidades neste projeto, mas não podem fazer nenhuma alteração em configurações ou dados"}]}},projectViewers:{t:0,b:{t:2,i:[{t:3}],s:"Observadores de projeto"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:" podem preencher Formulários em um navegador de internet, mas não podem ver ou fazer mudanças nos dados ou configurações."}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"Coletores de dados"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"Localizar um usuário..."}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"Inclua o endereço de email completo do(a) usuário(a)"}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"Usuário"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Função de projeto"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"Não existem usuário designados para esse projeto ainda. Para adicionar um usuário utilize a busca acima."}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:'Algo deu errado. "'},{t:4,k:"displayName"},{t:3,v:'" foi removido do projeto.'}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:'Sucesso! "'},{t:4,k:"displayName"},{t:3,v:'" recebeu a função de "'},{t:4,k:"roleName"},{t:3,v:'" nesse projeto.'}]}}}},sw:{heading:[{t:0,b:{t:2,i:[{t:3}],s:"Wasimamizi wa Tovuti nzima wanazingatiwa kiotomatiki Wasimamizi wa kila Mradi. Watumiaji Wengine wanaweza kuwa na Majukumu mahususi kwa Mradi huu"}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:" inaweza kutekeleza kazi yoyote ya usimamizi inayohusiana na Mradi huu na inaweza kujaza Fomu katika kivinjari cha wavuti."}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"Wasimamizi wa Mradi"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectViewers"},{t:3,v:" inaweza kufikia na kupakua data yote ya Fomu na Huluki katika Mradi huu, lakini haiwezi kufanya mabadiliko yoyote kwenye mipangilio au data."}]}},projectViewers:{t:0,b:{t:2,i:[{t:3}],s:"Watazamaji wa Mradi"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:" inaweza kujaza Fomu katika kivinjari, lakini haiwezi kuona au kubadilisha data au mipangilio"}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"Wakusanyaji Data"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"Tafuta mtumiaji..."}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"Weka barua pepe kamili ya mtumiaji..."}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"Mtumiaji"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"Jukumu la Mradi"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"Bado hakuna watumiaji waliokabidhiwa kwa Mradi huu. Ili kuongeza moja, tafuta mtumiaji hapo juu."}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:'Hitilafu fulani imetokea. "'},{t:4,k:"displayName"},{t:3,v:'" imeondolewa kwenye Mradi.'}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:'Mafanikio! "'},{t:4,k:"displayName"},{t:3,v:'" imepewa Jukumu la "'},{t:4,k:"roleName"},{t:3,v:'" kwenye Mradi huu.'}]}}}},"zh-Hant":{heading:[{t:0,b:{t:2,i:[{t:3}],s:"網站管理員自動被視為每個專案的管理者。其他使用者可以擁有特定於此專案的角色："}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectManagers"},{t:3,v:"可以執行與該專案相關的任何管理任務，並可以在網頁瀏覽器中填寫表格"}]}},projectManagers:{t:0,b:{t:2,i:[{t:3}],s:"專案管理員"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"projectViewers"},{t:3,v:"可以存取和下載此專案中的所有表單和實體數據，但無法對設定或數據進行任何更改"}]}},projectViewers:{t:0,b:{t:2,i:[{t:3}],s:"專案瀏覽者"}}},{full:{t:0,b:{t:2,i:[{t:4,k:"dataCollectors"},{t:3,v:"在網頁瀏覽器中填寫表格，但無法查看或變更資料或設定"}]}},dataCollectors:{t:0,b:{t:2,i:[{t:3}],s:"資料收集者"}}}],field:{q:{canList:{t:0,b:{t:2,i:[{t:3}],s:"搜尋使用者"}},cannotList:{t:0,b:{t:2,i:[{t:3}],s:"輸入準確的使用者電子郵件地址..."}}}},header:{user:{t:0,b:{t:2,i:[{t:3}],s:"使用者"}},projectRole:{t:0,b:{t:2,i:[{t:3}],s:"專案角色"}}},emptyTable:{t:0,b:{t:2,i:[{t:3}],s:"尚未為該專案分配任何使用者。若要新增用戶，請在上面搜尋用戶。"}},alert:{unassignWithoutReassign:{t:0,b:{t:2,i:[{t:3,v:"出了些問題。 「"},{t:4,k:"displayName"},{t:3,v:"」已從專案中刪除。"}]}},assignRole:{t:0,b:{t:2,i:[{t:3,v:"成功！ 「"},{t:4,k:"displayName"},{t:3,v:"」在此專案中被賦予「"},{t:4,k:"roleName"},{t:3,v:"」角色。"}]}},unassignRole:{t:0,b:{t:2,i:[{t:3,v:"「"},{t:4,k:"displayName"},{t:3,v:"」已從本專案中刪除。"}]}}}}}})}const y={name:"ProjectUserList",components:{DocLink:W,Loading:T,ProjectUserRow:G,SearchTextbox:I},inject:["alert"],props:{projectId:{type:String,required:!0}},setup(){const{currentUser:t,roles:e,projectAssignments:o,createResource:s,resourceStates:n}=N(),i=s("searchAssignments",()=>({transformResponse:({data:c})=>c.map(m=>{const r=o.find(h=>h.actor.id===m.id);return r??{actor:m,roleId:null}})}));return{currentUser:t,roles:e,projectAssignments:o,searchAssignments:i,...n([e,o])}},data(){return{searchTerm:"",assignRequestCount:0}},computed:{searchDisabled(){return this.dataExists?this.assignRequestCount!==0:!0},searchLabel(){return this.currentUser.can("user.list")?this.$t("field.q.canList"):this.$t("field.q.cannotList")},tableAssignments(){return this.searchTerm!==""?this.searchAssignments:this.projectAssignments},emptyMessage(){return this.tableAssignments.dataExists&&this.tableAssignments.length===0?this.tableAssignments===this.projectAssignments?this.$t("emptyTable"):this.$t("common.noResults"):""}},watch:{searchTerm(t){t?this.search():this.clearSearch()}},created(){this.fetchData(!1)},methods:{fetchData(t){Promise.allSettled([this.roles.request({url:"/v1/roles",resend:!1}),this.projectAssignments.request({url:v.projectAssignments(this.projectId),extended:!0,resend:t})])},clearSearch(){this.fetchData(!0),this.searchAssignments.data=null},search(){this.searchAssignments.request({url:v.users({q:this.searchTerm})}).catch(C)},incrementCount(){this.assignRequestCount+=1},decrementCount(){this.assignRequestCount-=1},afterAssignmentChange(t,e,o){const s=this.projectAssignments.findIndex(i=>i.actor.id===t.id),n={actor:t,roleId:e!=null?e.id:null};s!==-1?this.projectAssignments[s]=n:this.projectAssignments.push(n),o?this.alert.danger(this.$t("alert.unassignWithoutReassign",t)):e!=null?this.alert.success(this.$t("alert.assignRole",{displayName:t.displayName,roleName:this.$t(`role.${e.system}`)})):this.alert.success(this.$t("alert.unassignRole",t))}}},Q={id:"project-user-list"},Z={class:"page-body-heading"},K={class:"table"},Y={key:0};function X(t,e,o,s,n,i){const c=b("i18n-t"),m=b("search-textbox"),r=b("project-user-row"),h=b("loading");return u(),d("div",Q,[a("div",Z,[a("p",null,l(t.$t("heading[0]")),1),a("ul",null,[p(c,{tag:"li",keypath:"heading[1].full"},{projectManagers:k(()=>[a("strong",null,l(t.$t("heading[1].projectManagers")),1)]),_:1}),p(c,{tag:"li",keypath:"heading[2].full"},{projectViewers:k(()=>[a("strong",null,l(t.$t("heading[2].projectViewers")),1)]),_:1}),p(c,{tag:"li",keypath:"heading[3].full"},{dataCollectors:k(()=>[a("strong",null,l(t.$t("heading[3].dataCollectors")),1)]),_:1})])]),a("form",{id:"project-user-list-search-form",class:"form-inline",onSubmit:e[1]||(e[1]=$(()=>{},["prevent"]))},[p(m,{modelValue:n.searchTerm,"onUpdate:modelValue":e[0]||(e[0]=g=>n.searchTerm=g),label:i.searchLabel,disabled:i.searchDisabled},null,8,["modelValue","label","disabled"])],32),a("table",K,[a("thead",null,[a("tr",null,[a("th",null,l(t.$t("header.user")),1),a("th",null,l(t.$t("header.projectRole")),1)])]),s.roles.dataExists&&i.tableAssignments.dataExists?(u(),d("tbody",Y,[(u(!0),d(A,null,M(i.tableAssignments,g=>(u(),D(r,{key:g.actor.id,assignment:g,onIncrementCount:i.incrementCount,onDecrementCount:i.decrementCount,onChange:i.afterAssignmentChange},null,8,["assignment","onIncrementCount","onDecrementCount","onChange"]))),128))])):S("",!0)]),p(h,{state:t.initiallyLoading||s.searchAssignments.awaitingResponse},null,8,["state"]),f(a("p",{class:"empty-table-message"},l(i.emptyMessage),513),[[x,i.emptyMessage!==""]])])}typeof _=="function"&&_(y);typeof P=="function"&&P(y);const st=z(y,[["render",X]]);export{st as default};
